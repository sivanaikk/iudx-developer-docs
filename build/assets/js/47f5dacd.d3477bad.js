"use strict";(self.webpackChunkiudx_website=self.webpackChunkiudx_website||[]).push([[3650],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),m=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},k=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=m(n),k=a,u=d["".concat(s,".").concat(k)]||d[k]||c[k]||o;return n?r.createElement(u,l(l({ref:t},p),{},{components:n})):r.createElement(u,l({ref:t},p))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=k;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[d]="string"==typeof e?e:a,l[1]=i;for(var m=2;m<o;m++)l[m]=n[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}k.displayName="MDXCreateElement"},12430:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return i},metadata:function(){return m},toc:function(){return p}});var r=n(87462),a=n(63366),o=(n(67294),n(3905)),l=["components"],i={sidebar_position:3},s="Deployment Overview",m={unversionedId:"Deployment/Docker Swarm-Based Deployment/Deployment Overview",id:"Deployment/Docker Swarm-Based Deployment/Deployment Overview",isDocsHomePage:!1,title:"Deployment Overview",description:"IUDX platform can be deployed in Docker Swarm using the scripts and Swarm code present in this directory and sub-directories. Each component is deployed as a single instance in Swarm. The components can be scaled manually. IUDX platform exposes endpoints through two ports - one for HTTPS traffic which it passes to Nginx and Nginx routes to the appropriate service; another for Rabbitmq management and AMQPS streaming. The whole system is monitored using a monitoring stack module - Prometheus for metrics, promtail and Loki for logs, and Grafana for visualization and alerting. The overall architecture of Swarm deployment is summarized in the figure below.",source:"@site/docs/Deployment/Docker Swarm-Based Deployment/Deployment Overview.md",sourceDirName:"Deployment/Docker Swarm-Based Deployment",slug:"/Deployment/Docker Swarm-Based Deployment/Deployment Overview",permalink:"/docs/next/Deployment/Docker Swarm-Based Deployment/Deployment Overview",editUrl:"https://github.com/datakaveri/iudx-developer-docs/blob/main/docs/Deployment/Docker Swarm-Based Deployment/Deployment Overview.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Prerequisites",permalink:"/docs/next/Deployment/Docker Swarm-Based Deployment/prerequisites"},next:{title:"Resource planning",permalink:"/docs/next/Deployment/Docker Swarm-Based Deployment/Infrastructure Provisioning/Resource planning"}},p=[{value:"Features",id:"features",children:[],level:2},{value:"Dependency in IUDX systems and ordering",id:"dependency-in-iudx-systems-and-ordering",children:[],level:2},{value:"Order of Deployment",id:"order-of-deployment",children:[],level:2},{value:"IUDX Component Version Matrix",id:"iudx-component-version-matrix",children:[],level:2}],d={toc:p};function c(e){var t=e.components,i=(0,a.Z)(e,l);return(0,o.kt)("wrapper",(0,r.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"deployment-overview"},"Deployment Overview"),(0,o.kt)("p",null,"IUDX platform can be deployed in Docker Swarm using the scripts and Swarm code present in this directory and sub-directories. Each component is deployed as a single instance in Swarm. The components can be scaled manually. IUDX platform exposes endpoints through two ports - one for HTTPS traffic which it passes to Nginx and Nginx routes to the appropriate service; another for Rabbitmq management and AMQPS streaming. The whole system is monitored using a monitoring stack module - Prometheus for metrics, promtail and Loki for logs, and Grafana for visualization and alerting. The overall architecture of Swarm deployment is summarized in the figure below."),(0,o.kt)("div",{class:"img_background"},(0,o.kt)("div",{style:{textAlign:"center"}},(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Architecture",src:n(21253).Z}),(0,o.kt)("br",null)))),(0,o.kt)("h2",{id:"features"},"Features"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Scaling of services can be done manually by increasing the number of replica containers backing the swarm service."),(0,o.kt)("li",{parentName:"ol"},"Cloud agnostic deployment, achieved through the layered architecture of deployment and using open source tools whenever possible instead of using cloud services."),(0,o.kt)("li",{parentName:"ol"},"Cost-effective deployment, typically can be done with 4-6 nodes or a single node based on load requirements"),(0,o.kt)("li",{parentName:"ol"},"It is useful for small-scale deployment/prototyping/proof-of-concept (PoC) where reliability is not critical.")),(0,o.kt)("h2",{id:"dependency-in-iudx-systems-and-ordering"},"Dependency in IUDX systems and ordering"),(0,o.kt)("p",null,"IUDX components depend on each other and are represented below in a Directed Acyclic Graph (DAG)."),(0,o.kt)("div",{class:"img_background"},(0,o.kt)("div",{style:{textAlign:"center"}},(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Architecture",src:n(85224).Z}),(0,o.kt)("br",null)))),(0,o.kt)("p",null,"From Directed Acyclic Graph (DAG), the components can be deployed as following in 6 stages:"),(0,o.kt)("h2",{id:"order-of-deployment"},"Order of Deployment"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Stage 1"),"1. Immudb",(0,o.kt)("br",null),"2. Rabbitmq",(0,o.kt)("br",null),"3. Postgresql",(0,o.kt)("br",null),"4. Redis",(0,o.kt)("br",null),"5. Zookeeper",(0,o.kt)("br",null),"6. Elasticsearch (Deploy ELK together)",(0,o.kt)("br",null)),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Stage 2"),"1. Logstash",(0,o.kt)("br",null),"2. Kibana",(0,o.kt)("br",null),"3. Keycloak",(0,o.kt)("br",null),"4. Latest Ingestion Pipeline",(0,o.kt)("br",null),"5. Auditing Server",(0,o.kt)("br",null)),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Stage 3"),"1. AAA Server"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Stage 4"),"1. Catalogue Server"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Stage 5"),"1. Resource Server",(0,o.kt)("br",null),"2. Resource Server Proxy",(0,o.kt)("br",null),"3. File Server",(0,o.kt)("br",null),"4. Data Ingestion Server",(0,o.kt)("br",null)),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Stage 6"),"1. Advance Monitoring Stack"),(0,o.kt)("h2",{id:"iudx-component-version-matrix"},"IUDX Component Version Matrix"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},"Component"),(0,o.kt)("th",{parentName:"tr",align:"center"},"Image Version"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Immudb"},"Immudb"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"1.4.1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/RabbitMQ"},"RabbitMQ"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"3.11.10")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/PostgreSQL"},"PostgreSQL"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"14.4.0")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Redis"},"Redis"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"7.0.2(redis)-2.0.9(rejson)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Zookeeper"},"Zookeeper"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"3.8.0")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/ELK%20stack"},"Elasticsearch"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"8.7.0")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/ELK%20stack"},"Logstash"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"8.7.0")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/ELK%20stack"},"Kibana"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"8.7.0")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Latest-Ingestion-Pipeline"},"Latest Ingestion Pipeline"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.0.0-9adc1d8")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Auditing%20Server"},"Auditing server"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"1.0.0-db57a99")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/AAA%20Server"},"AAA-server"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.0.0-",(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/datakaveri/iudx-aaa-server/pkgs/container/aaa-depl/172028140?tag=5.0.0-70d4b4d"},"70d4b4d")))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Catalogue-Server"},"Catalogue API server"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.0.0-",(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/datakaveri/iudx-catalogue-server/pkgs/container/cat-prod/169481629?tag=5.0.0-ab8dcd7"},"ab8dcd7")))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Resource-Server"},"Resource API server"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.0.0-",(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/datakaveri/iudx-resource-server/pkgs/container/rs-depl/168389192?tag=5.0.0-28d218f"},"28d218f")))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/File%20Server"},"File server"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.0.0-43db6ce")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Data-%20Ingestion%20Server"},"Data Ingestion server"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"5.0.0-fa953b3")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("a",{parentName:"strong",href:"/docs/next/Deployment/Docker%20Swarm-Based%20Deployment/IUDX%20Component%20Installation/Advance%20Monitoring%20Stack"},"Advance Monitoring Stack"))),(0,o.kt)("td",{parentName:"tr",align:"center"},"4.0.0-2")))))}c.isMDXComponent=!0},85224:function(e,t,n){t.Z=n.p+"assets/images/IUDX-Dependency-Graph-22ba08e70c29a864c94ff41c4ca2aee8.png"},21253:function(e,t,n){t.Z=n.p+"assets/images/Overview-Deloyment-IUDX-Swarm-81f3295af9d4a9d623d8351fbb8f379f.png"}}]);