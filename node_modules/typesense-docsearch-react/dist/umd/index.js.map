{"version":3,"file":"index.js","sources":["../../src/icons/ControlKeyIcon.tsx","../../src/icons/SearchIcon.tsx","../../src/DocSearchButton.tsx","../../node_modules/@algolia/autocomplete-shared/dist/esm/generateAutocompleteId.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/getItemsCount.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/invariant.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/warn.js","../../node_modules/@algolia/autocomplete-core/dist/esm/checkOptions.js","../../node_modules/@algolia/autocomplete-core/dist/esm/createStore.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/flatten.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getNextActiveItemId.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/noop.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getNormalizedSources.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getActiveItem.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/isOrContainsNode.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/mapToAlgoliaResponse.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getAutocompleteSetters.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getDefaultProps.js","../../node_modules/@algolia/autocomplete-core/dist/esm/resolve.js","../../node_modules/@algolia/autocomplete-core/dist/esm/onInput.js","../../node_modules/@algolia/autocomplete-core/dist/esm/onKeyDown.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getPropGetters.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getCompletion.js","../../node_modules/@algolia/autocomplete-core/dist/esm/stateReducer.js","../../node_modules/@algolia/autocomplete-core/dist/esm/createAutocomplete.js","../../src/TypesenseLogo.tsx","../../src/Footer.tsx","../../src/Hit.tsx","../../src/icons/LoadingIcon.tsx","../../src/icons/RecentIcon.tsx","../../src/icons/ResetIcon.tsx","../../src/icons/SelectIcon.tsx","../../src/icons/SourceIcon.tsx","../../src/icons/StarIcon.tsx","../../src/icons/ErrorIcon.tsx","../../src/icons/NoResultsIcon.tsx","../../src/ErrorScreen.tsx","../../src/NoResultsScreen.tsx","../../src/Snippet.tsx","../../src/Results.tsx","../../src/utils/groupBy.ts","../../src/utils/identity.ts","../../src/utils/noop.ts","../../src/utils/removeHighlightTags.ts","../../src/ResultsScreen.tsx","../../src/StartScreen.tsx","../../src/ScreenState.tsx","../../src/SearchBox.tsx","../../src/constants.ts","../../src/stored-searches.ts","../../src/useSearchClient.ts","../../src/DocSearchModal.tsx","../../src/useTouchEvents.ts","../../src/useTrapFocus.ts","../../src/useDocSearchKeyboardEvents.ts","../../src/DocSearch.tsx","../../src/version.ts"],"sourcesContent":["import React from 'react';\n\nexport function ControlKeyIcon() {\n  return (\n    <svg width=\"15\" height=\"15\" className=\"DocSearch-Control-Key-Icon\">\n      <path\n        d=\"M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953\"\n        strokeWidth=\"1.2\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        strokeLinecap=\"square\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SearchIcon() {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      className=\"DocSearch-Search-Icon\"\n      viewBox=\"0 0 20 20\"\n    >\n      <path\n        d=\"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React, { useMemo } from 'react';\n\nimport { ControlKeyIcon } from './icons/ControlKeyIcon';\nimport { SearchIcon } from './icons/SearchIcon';\n\ntype Translations = Partial<{\n  buttonText: string;\n  buttonAriaLabel: string;\n}>;\n\nexport type DocSearchButtonProps = React.ComponentProps<'button'> & {\n  translations?: Translations;\n};\n\nconst ACTION_KEY_DEFAULT = 'Ctrl' as const;\nconst ACTION_KEY_APPLE = '⌘' as const;\n\nfunction isAppleDevice() {\n  return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n}\n\nexport const DocSearchButton = React.forwardRef<\n  HTMLButtonElement,\n  DocSearchButtonProps\n>(({ translations = {}, ...props }, ref) => {\n  const { buttonText = 'Search', buttonAriaLabel = 'Search' } = translations;\n\n  const key = useMemo<\n    typeof ACTION_KEY_APPLE | typeof ACTION_KEY_DEFAULT | null\n  >(() => {\n    if (typeof navigator !== 'undefined') {\n      return isAppleDevice() ? ACTION_KEY_APPLE : ACTION_KEY_DEFAULT;\n    }\n    return null;\n  }, []);\n\n  return (\n    <button\n      type=\"button\"\n      className=\"DocSearch DocSearch-Button\"\n      aria-label={buttonAriaLabel}\n      {...props}\n      ref={ref}\n    >\n      <span className=\"DocSearch-Button-Container\">\n        <SearchIcon />\n        <span className=\"DocSearch-Button-Placeholder\">{buttonText}</span>\n      </span>\n\n      <span className=\"DocSearch-Button-Keys\">\n        {key !== null && (\n          <>\n            <span className=\"DocSearch-Button-Key\">\n              {key === ACTION_KEY_DEFAULT ? <ControlKeyIcon /> : key}\n            </span>\n            <span className=\"DocSearch-Button-Key\">K</span>\n          </>\n        )}\n      </span>\n    </button>\n  );\n});\n","var autocompleteId = 0;\nexport function generateAutocompleteId() {\n  return \"autocomplete-\".concat(autocompleteId++);\n}","export function getItemsCount(state) {\n  if (state.collections.length === 0) {\n    return 0;\n  }\n\n  return state.collections.reduce(function (sum, collection) {\n    return sum + collection.items.length;\n  }, 0);\n}","/**\n * Throws an error if the condition is not met in development mode.\n * This is used to make development a better experience to provide guidance as\n * to where the error comes from.\n */\nexport function invariant(condition, message) {\n  if (!(process.env.NODE_ENV !== 'production')) {\n    return;\n  }\n\n  if (!condition) {\n    throw new Error(\"[Autocomplete] \".concat(message));\n  }\n}","export var warnCache = {\n  current: {}\n};\n/**\n * Logs a warning if the condition is not met.\n * This is used to log issues in development environment only.\n */\n\nexport function warn(condition, message) {\n  if (!(process.env.NODE_ENV !== 'production')) {\n    return;\n  }\n\n  if (condition) {\n    return;\n  }\n\n  var sanitizedMessage = message.trim();\n  var hasAlreadyPrinted = warnCache.current[sanitizedMessage];\n\n  if (!hasAlreadyPrinted) {\n    warnCache.current[sanitizedMessage] = true; // eslint-disable-next-line no-console\n\n    console.warn(\"[Autocomplete] \".concat(sanitizedMessage));\n  }\n}","import { warn } from '@algolia/autocomplete-shared';\nexport function checkOptions(options) {\n  process.env.NODE_ENV !== 'production' ? warn(!options.debug, 'The `debug` option is meant for development debugging and should not be used in production.') : void 0;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function createStore(reducer, props, onStoreStateChange) {\n  var state = props.initialState;\n  return {\n    getState: function getState() {\n      return state;\n    },\n    dispatch: function dispatch(action, payload) {\n      var prevState = _objectSpread({}, state);\n\n      state = reducer(state, {\n        type: action,\n        props: props,\n        payload: payload\n      });\n      onStoreStateChange({\n        state: state,\n        prevState: prevState\n      });\n    }\n  };\n}","export function flatten(values) {\n  return values.reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n}","/**\n * Returns the next active item ID from the current state.\n *\n * We allow circular keyboard navigation from the base index.\n * The base index can either be `null` (nothing is highlighted) or `0`\n * (the first item is highlighted).\n * The base index is allowed to get assigned `null` only if\n * `props.defaultActiveItemId` is `null`. This pattern allows to \"stop\"\n * by the actual query before navigating to other suggestions as seen on\n * Google or Amazon.\n *\n * @param moveAmount The offset to increment (or decrement) the last index\n * @param baseIndex The current index to compute the next index from\n * @param itemCount The number of items\n * @param defaultActiveItemId The default active index to fallback to\n */\nexport function getNextActiveItemId(moveAmount, baseIndex, itemCount, defaultActiveItemId) {\n  if (!itemCount) {\n    return null;\n  }\n\n  if (moveAmount < 0 && (baseIndex === null || defaultActiveItemId !== null && baseIndex === 0)) {\n    return itemCount + moveAmount;\n  }\n\n  var numericIndex = (baseIndex === null ? -1 : baseIndex) + moveAmount;\n\n  if (numericIndex <= -1 || numericIndex >= itemCount) {\n    return defaultActiveItemId === null ? null : 0;\n  }\n\n  return numericIndex;\n}","export var noop = function noop() {};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@algolia/autocomplete-shared';\nimport { noop } from './noop';\nexport function getNormalizedSources(getSources, params) {\n  var seenSourceIds = [];\n  return Promise.resolve(getSources(params)).then(function (sources) {\n    invariant(Array.isArray(sources), \"The `getSources` function must return an array of sources but returned type \".concat(JSON.stringify(_typeof(sources)), \":\\n\\n\").concat(JSON.stringify(sources, null, 2)));\n    return Promise.all(sources // We allow `undefined` and `false` sources to allow users to use\n    // `Boolean(query) && source` (=> `false`).\n    // We need to remove these values at this point.\n    .filter(function (maybeSource) {\n      return Boolean(maybeSource);\n    }).map(function (source) {\n      invariant(typeof source.sourceId === 'string', 'A source must provide a `sourceId` string.');\n\n      if (seenSourceIds.includes(source.sourceId)) {\n        throw new Error(\"[Autocomplete] The `sourceId` \".concat(JSON.stringify(source.sourceId), \" is not unique.\"));\n      }\n\n      seenSourceIds.push(source.sourceId);\n\n      var normalizedSource = _objectSpread({\n        getItemInputValue: function getItemInputValue(_ref) {\n          var state = _ref.state;\n          return state.query;\n        },\n        getItemUrl: function getItemUrl() {\n          return undefined;\n        },\n        onSelect: function onSelect(_ref2) {\n          var setIsOpen = _ref2.setIsOpen;\n          setIsOpen(false);\n        },\n        onActive: noop\n      }, source);\n\n      return Promise.resolve(normalizedSource);\n    }));\n  });\n}","// We don't have access to the autocomplete source when we call `onKeyDown`\n// or `onClick` because those are native browser events.\n// However, we can get the source from the suggestion index.\nfunction getCollectionFromActiveItemId(state) {\n  // Given 3 sources with respectively 1, 2 and 3 suggestions: [1, 2, 3]\n  // We want to get the accumulated counts:\n  // [1, 1 + 2, 1 + 2 + 3] = [1, 3, 3 + 3] = [1, 3, 6]\n  var accumulatedCollectionsCount = state.collections.map(function (collections) {\n    return collections.items.length;\n  }).reduce(function (acc, collectionsCount, index) {\n    var previousValue = acc[index - 1] || 0;\n    var nextValue = previousValue + collectionsCount;\n    acc.push(nextValue);\n    return acc;\n  }, []); // Based on the accumulated counts, we can infer the index of the suggestion.\n\n  var collectionIndex = accumulatedCollectionsCount.reduce(function (acc, current) {\n    if (current <= state.activeItemId) {\n      return acc + 1;\n    }\n\n    return acc;\n  }, 0);\n  return state.collections[collectionIndex];\n}\n/**\n * Gets the highlighted index relative to a suggestion object (not the absolute\n * highlighted index).\n *\n * Example:\n *  [['a', 'b'], ['c', 'd', 'e'], ['f']]\n *                      ↑\n *         (absolute: 3, relative: 1)\n */\n\n\nfunction getRelativeActiveItemId(_ref) {\n  var state = _ref.state,\n      collection = _ref.collection;\n  var isOffsetFound = false;\n  var counter = 0;\n  var previousItemsOffset = 0;\n\n  while (isOffsetFound === false) {\n    var currentCollection = state.collections[counter];\n\n    if (currentCollection === collection) {\n      isOffsetFound = true;\n      break;\n    }\n\n    previousItemsOffset += currentCollection.items.length;\n    counter++;\n  }\n\n  return state.activeItemId - previousItemsOffset;\n}\n\nexport function getActiveItem(state) {\n  var collection = getCollectionFromActiveItemId(state);\n\n  if (!collection) {\n    return null;\n  }\n\n  var item = collection.items[getRelativeActiveItemId({\n    state: state,\n    collection: collection\n  })];\n  var source = collection.source;\n  var itemInputValue = source.getItemInputValue({\n    item: item,\n    state: state\n  });\n  var itemUrl = source.getItemUrl({\n    item: item,\n    state: state\n  });\n  return {\n    item: item,\n    itemInputValue: itemInputValue,\n    itemUrl: itemUrl,\n    source: source\n  };\n}","export function isOrContainsNode(parent, child) {\n  return parent === child || parent.contains(child);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function mapToAlgoliaResponse(rawResults) {\n  var results = rawResults.map(function (result) {\n    var _hits;\n\n    return _objectSpread(_objectSpread({}, result), {}, {\n      hits: (_hits = result.hits) === null || _hits === void 0 ? void 0 : _hits.map(function (hit) {\n        // Bring support for the Insights plugin.\n        return _objectSpread(_objectSpread({}, hit), {}, {\n          __autocomplete_indexName: result.index,\n          __autocomplete_queryID: result.queryID\n        });\n      })\n    });\n  });\n  return {\n    results: results,\n    hits: results.map(function (result) {\n      return result.hits;\n    }).filter(Boolean),\n    facetHits: results.map(function (result) {\n      var _facetHits;\n\n      return (_facetHits = result.facetHits) === null || _facetHits === void 0 ? void 0 : _facetHits.map(function (facetHit) {\n        // Bring support for the highlighting components.\n        return {\n          label: facetHit.value,\n          count: facetHit.count,\n          _highlightResult: {\n            label: {\n              value: facetHit.highlighted\n            }\n          }\n        };\n      });\n    }).filter(Boolean)\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from './utils';\nexport function getAutocompleteSetters(_ref) {\n  var store = _ref.store;\n\n  var setActiveItemId = function setActiveItemId(value) {\n    store.dispatch('setActiveItemId', value);\n  };\n\n  var setQuery = function setQuery(value) {\n    store.dispatch('setQuery', value);\n  };\n\n  var setCollections = function setCollections(rawValue) {\n    var baseItemId = 0;\n    var value = rawValue.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        // We flatten the stored items to support calling `getAlgoliaResults`\n        // from the source itself.\n        items: flatten(collection.items).map(function (item) {\n          return _objectSpread(_objectSpread({}, item), {}, {\n            __autocomplete_id: baseItemId++\n          });\n        })\n      });\n    });\n    store.dispatch('setCollections', value);\n  };\n\n  var setIsOpen = function setIsOpen(value) {\n    store.dispatch('setIsOpen', value);\n  };\n\n  var setStatus = function setStatus(value) {\n    store.dispatch('setStatus', value);\n  };\n\n  var setContext = function setContext(value) {\n    store.dispatch('setContext', value);\n  };\n\n  return {\n    setActiveItemId: setActiveItemId,\n    setQuery: setQuery,\n    setCollections: setCollections,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, generateAutocompleteId } from '@algolia/autocomplete-shared';\nimport { getNormalizedSources, flatten } from './utils';\nexport function getDefaultProps(props, pluginSubscribers) {\n  var _props$id;\n\n  /* eslint-disable no-restricted-globals */\n  var environment = typeof window !== 'undefined' ? window : {};\n  /* eslint-enable no-restricted-globals */\n\n  var plugins = props.plugins || [];\n  return _objectSpread(_objectSpread({\n    debug: false,\n    openOnFocus: false,\n    placeholder: '',\n    autoFocus: false,\n    defaultActiveItemId: null,\n    stallThreshold: 300,\n    environment: environment,\n    shouldPanelOpen: function shouldPanelOpen(_ref) {\n      var state = _ref.state;\n      return getItemsCount(state) > 0;\n    }\n  }, props), {}, {\n    // Since `generateAutocompleteId` triggers a side effect (it increments\n    // an internal counter), we don't want to execute it if unnecessary.\n    id: (_props$id = props.id) !== null && _props$id !== void 0 ? _props$id : generateAutocompleteId(),\n    plugins: plugins,\n    // The following props need to be deeply defaulted.\n    initialState: _objectSpread({\n      activeItemId: null,\n      query: '',\n      completion: null,\n      collections: [],\n      isOpen: false,\n      status: 'idle',\n      context: {}\n    }, props.initialState),\n    onStateChange: function onStateChange(params) {\n      var _props$onStateChange;\n\n      (_props$onStateChange = props.onStateChange) === null || _props$onStateChange === void 0 ? void 0 : _props$onStateChange.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onStateChange;\n\n        return (_x$onStateChange = x.onStateChange) === null || _x$onStateChange === void 0 ? void 0 : _x$onStateChange.call(x, params);\n      });\n    },\n    onSubmit: function onSubmit(params) {\n      var _props$onSubmit;\n\n      (_props$onSubmit = props.onSubmit) === null || _props$onSubmit === void 0 ? void 0 : _props$onSubmit.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onSubmit;\n\n        return (_x$onSubmit = x.onSubmit) === null || _x$onSubmit === void 0 ? void 0 : _x$onSubmit.call(x, params);\n      });\n    },\n    onReset: function onReset(params) {\n      var _props$onReset;\n\n      (_props$onReset = props.onReset) === null || _props$onReset === void 0 ? void 0 : _props$onReset.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onReset;\n\n        return (_x$onReset = x.onReset) === null || _x$onReset === void 0 ? void 0 : _x$onReset.call(x, params);\n      });\n    },\n    getSources: function getSources(params) {\n      return Promise.all([].concat(_toConsumableArray(plugins.map(function (plugin) {\n        return plugin.getSources;\n      })), [props.getSources]).filter(Boolean).map(function (getSources) {\n        return getNormalizedSources(getSources, params);\n      })).then(function (nested) {\n        return flatten(nested);\n      }).then(function (sources) {\n        return sources.map(function (source) {\n          return _objectSpread(_objectSpread({}, source), {}, {\n            onSelect: function onSelect(params) {\n              source.onSelect(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onSelect;\n\n                return (_x$onSelect = x.onSelect) === null || _x$onSelect === void 0 ? void 0 : _x$onSelect.call(x, params);\n              });\n            },\n            onActive: function onActive(params) {\n              source.onActive(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onActive;\n\n                return (_x$onActive = x.onActive) === null || _x$onActive === void 0 ? void 0 : _x$onActive.call(x, params);\n              });\n            }\n          });\n        });\n      });\n    },\n    navigator: _objectSpread({\n      navigate: function navigate(_ref2) {\n        var itemUrl = _ref2.itemUrl;\n        environment.location.assign(itemUrl);\n      },\n      navigateNewTab: function navigateNewTab(_ref3) {\n        var itemUrl = _ref3.itemUrl;\n        var windowReference = environment.open(itemUrl, '_blank', 'noopener');\n        windowReference === null || windowReference === void 0 ? void 0 : windowReference.focus();\n      },\n      navigateNewWindow: function navigateNewWindow(_ref4) {\n        var itemUrl = _ref4.itemUrl;\n        environment.open(itemUrl, '_blank', 'noopener');\n      }\n    }, props.navigator)\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@algolia/autocomplete-shared';\nimport { flatten, mapToAlgoliaResponse } from './utils';\n\nfunction isDescription(item) {\n  return Boolean(item.execute);\n}\n\nfunction isRequesterDescription(description) {\n  return Boolean(description === null || description === void 0 ? void 0 : description.execute);\n}\n\nexport function preResolve(itemsOrDescription, sourceId) {\n  if (isRequesterDescription(itemsOrDescription)) {\n    return _objectSpread(_objectSpread({}, itemsOrDescription), {}, {\n      requests: itemsOrDescription.queries.map(function (query) {\n        return {\n          query: query,\n          sourceId: sourceId,\n          transformResponse: itemsOrDescription.transformResponse\n        };\n      })\n    });\n  }\n\n  return {\n    items: itemsOrDescription,\n    sourceId: sourceId\n  };\n}\nexport function resolve(items) {\n  var packed = items.reduce(function (acc, current) {\n    if (!isDescription(current)) {\n      acc.push(current);\n      return acc;\n    }\n\n    var searchClient = current.searchClient,\n        execute = current.execute,\n        requests = current.requests;\n    var container = acc.find(function (item) {\n      return isDescription(current) && isDescription(item) && item.searchClient === searchClient && item.execute === execute;\n    });\n\n    if (container) {\n      var _container$items;\n\n      (_container$items = container.items).push.apply(_container$items, _toConsumableArray(requests));\n    } else {\n      var request = {\n        execute: execute,\n        items: requests,\n        searchClient: searchClient\n      };\n      acc.push(request);\n    }\n\n    return acc;\n  }, []);\n  var values = packed.map(function (maybeDescription) {\n    if (!isDescription(maybeDescription)) {\n      return Promise.resolve(maybeDescription);\n    }\n\n    var _ref = maybeDescription,\n        execute = _ref.execute,\n        items = _ref.items,\n        searchClient = _ref.searchClient;\n    return execute({\n      searchClient: searchClient,\n      requests: items\n    });\n  });\n  return Promise.all(values).then(function (responses) {\n    return flatten(responses);\n  });\n}\nexport function postResolve(responses, sources) {\n  return sources.map(function (source) {\n    var matches = responses.filter(function (response) {\n      return response.sourceId === source.sourceId;\n    });\n    var results = matches.map(function (_ref2) {\n      var items = _ref2.items;\n      return items;\n    });\n    var transform = matches[0].transformResponse;\n    var items = transform ? transform(mapToAlgoliaResponse(results)) : results;\n    invariant(Array.isArray(items), \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned type \").concat(JSON.stringify(_typeof(items)), \":\\n\\n\").concat(JSON.stringify(items, null, 2), \".\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\"));\n    invariant(items.every(Boolean), \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned \").concat(JSON.stringify(undefined), \".\\n\\nDid you forget to return items?\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\"));\n    return {\n      source: source,\n      items: items\n    };\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { preResolve, resolve, postResolve } from './resolve';\nimport { getActiveItem } from './utils';\nvar lastStalledId = null;\nexport function onInput(_ref) {\n  var event = _ref.event,\n      _ref$nextState = _ref.nextState,\n      nextState = _ref$nextState === void 0 ? {} : _ref$nextState,\n      props = _ref.props,\n      query = _ref.query,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, [\"event\", \"nextState\", \"props\", \"query\", \"refresh\", \"store\"]);\n\n  if (lastStalledId) {\n    props.environment.clearTimeout(lastStalledId);\n  }\n\n  var setCollections = setters.setCollections,\n      setIsOpen = setters.setIsOpen,\n      setQuery = setters.setQuery,\n      setActiveItemId = setters.setActiveItemId,\n      setStatus = setters.setStatus;\n  setQuery(query);\n  setActiveItemId(props.defaultActiveItemId);\n\n  if (!query && props.openOnFocus === false) {\n    var _nextState$isOpen;\n\n    setStatus('idle');\n    setCollections(store.getState().collections.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        items: []\n      });\n    }));\n    setIsOpen((_nextState$isOpen = nextState.isOpen) !== null && _nextState$isOpen !== void 0 ? _nextState$isOpen : props.shouldPanelOpen({\n      state: store.getState()\n    }));\n    return Promise.resolve();\n  }\n\n  setStatus('loading');\n  lastStalledId = props.environment.setTimeout(function () {\n    setStatus('stalled');\n  }, props.stallThreshold);\n  return props.getSources(_objectSpread({\n    query: query,\n    refresh: refresh,\n    state: store.getState()\n  }, setters)).then(function (sources) {\n    setStatus('loading');\n    return Promise.all(sources.map(function (source) {\n      return Promise.resolve(source.getItems(_objectSpread({\n        query: query,\n        refresh: refresh,\n        state: store.getState()\n      }, setters))).then(function (itemsOrDescription) {\n        return preResolve(itemsOrDescription, source.sourceId);\n      });\n    })).then(resolve).then(function (responses) {\n      return postResolve(responses, sources);\n    }).then(function (collections) {\n      var _nextState$isOpen2;\n\n      setStatus('idle');\n      setCollections(collections);\n      var isPanelOpen = props.shouldPanelOpen({\n        state: store.getState()\n      });\n      setIsOpen((_nextState$isOpen2 = nextState.isOpen) !== null && _nextState$isOpen2 !== void 0 ? _nextState$isOpen2 : props.openOnFocus && !query && isPanelOpen || isPanelOpen);\n      var highlightedItem = getActiveItem(store.getState());\n\n      if (store.getState().activeItemId !== null && highlightedItem) {\n        var item = highlightedItem.item,\n            itemInputValue = highlightedItem.itemInputValue,\n            itemUrl = highlightedItem.itemUrl,\n            source = highlightedItem.source;\n        source.onActive(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      }\n    }).finally(function () {\n      if (lastStalledId) {\n        props.environment.clearTimeout(lastStalledId);\n      }\n    });\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { onInput } from './onInput';\nimport { getActiveItem } from './utils';\nexport function onKeyDown(_ref) {\n  var event = _ref.event,\n      props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, [\"event\", \"props\", \"refresh\", \"store\"]);\n\n  if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n    // eslint-disable-next-line no-inner-declarations\n    var triggerScrollIntoView = function triggerScrollIntoView() {\n      var nodeItem = props.environment.document.getElementById(\"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId));\n\n      if (nodeItem) {\n        if (nodeItem.scrollIntoViewIfNeeded) {\n          nodeItem.scrollIntoViewIfNeeded(false);\n        } else {\n          nodeItem.scrollIntoView(false);\n        }\n      }\n    }; // eslint-disable-next-line no-inner-declarations\n\n\n    var triggerOnActive = function triggerOnActive() {\n      var highlightedItem = getActiveItem(store.getState());\n\n      if (store.getState().activeItemId !== null && highlightedItem) {\n        var item = highlightedItem.item,\n            itemInputValue = highlightedItem.itemInputValue,\n            itemUrl = highlightedItem.itemUrl,\n            source = highlightedItem.source;\n        source.onActive(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      }\n    }; // Default browser behavior changes the caret placement on ArrowUp and\n    // ArrowDown.\n\n\n    event.preventDefault(); // When re-opening the panel, we need to split the logic to keep the actions\n    // synchronized as `onInput` returns a promise.\n\n    if (store.getState().isOpen === false && (props.openOnFocus || Boolean(store.getState().query))) {\n      onInput(_objectSpread({\n        event: event,\n        props: props,\n        query: store.getState().query,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        store.dispatch(event.key, {\n          nextActiveItemId: props.defaultActiveItemId\n        });\n        triggerOnActive(); // Since we rely on the DOM, we need to wait for all the micro tasks to\n        // finish (which include re-opening the panel) to make sure all the\n        // elements are available.\n\n        setTimeout(triggerScrollIntoView, 0);\n      });\n    } else {\n      store.dispatch(event.key, {});\n      triggerOnActive();\n      triggerScrollIntoView();\n    }\n  } else if (event.key === 'Escape') {\n    // This prevents the default browser behavior on `input[type=\"search\"]`\n    // from removing the query right away because we first want to close the\n    // panel.\n    event.preventDefault();\n    store.dispatch(event.key, null);\n  } else if (event.key === 'Enter') {\n    // No active item, so we let the browser handle the native `onSubmit` form\n    // event.\n    if (store.getState().activeItemId === null || store.getState().collections.every(function (collection) {\n      return collection.items.length === 0;\n    })) {\n      return;\n    } // This prevents the `onSubmit` event to be sent because an item is\n    // highlighted.\n\n\n    event.preventDefault();\n\n    var _ref2 = getActiveItem(store.getState()),\n        item = _ref2.item,\n        itemInputValue = _ref2.itemInputValue,\n        itemUrl = _ref2.itemUrl,\n        source = _ref2.source;\n\n    if (event.metaKey || event.ctrlKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewTab({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.shiftKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewWindow({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.altKey) {// Keep native browser behavior\n    } else {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigate({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n        return;\n      }\n\n      onInput(_objectSpread({\n        event: event,\n        nextState: {\n          isOpen: false\n        },\n        props: props,\n        query: itemInputValue,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      });\n    }\n  }\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { onInput } from './onInput';\nimport { onKeyDown as _onKeyDown } from './onKeyDown';\nimport { getActiveItem, isOrContainsNode } from './utils';\nexport function getPropGetters(_ref) {\n  var props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, [\"props\", \"refresh\", \"store\"]);\n\n  var getEnvironmentProps = function getEnvironmentProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        formElement = providedProps.formElement,\n        panelElement = providedProps.panelElement,\n        rest = _objectWithoutProperties(providedProps, [\"inputElement\", \"formElement\", \"panelElement\"]);\n\n    return _objectSpread({\n      // On touch devices, we do not rely on the native `blur` event of the\n      // input to close the panel, but rather on a custom `touchstart` event\n      // outside of the autocomplete elements.\n      // This ensures a working experience on mobile because we blur the input\n      // on touch devices when the user starts scrolling (`touchmove`).\n      onTouchStart: function onTouchStart(event) {\n        if (store.getState().isOpen === false || event.target === inputElement) {\n          return;\n        } // @TODO: support cases where there are multiple Autocomplete instances.\n        // Right now, a second instance makes this computation return false.\n\n\n        var isTargetWithinAutocomplete = [formElement, panelElement].some(function (contextNode) {\n          return isOrContainsNode(contextNode, event.target) || isOrContainsNode(contextNode, props.environment.document.activeElement);\n        });\n\n        if (isTargetWithinAutocomplete === false) {\n          store.dispatch('blur', null);\n        }\n      },\n      // When scrolling on touch devices (mobiles, tablets, etc.), we want to\n      // mimic the native platform behavior where the input is blurred to\n      // hide the virtual keyboard. This gives more vertical space to\n      // discover all the suggestions showing up in the panel.\n      onTouchMove: function onTouchMove(event) {\n        if (store.getState().isOpen === false || inputElement !== props.environment.document.activeElement || event.target === inputElement) {\n          return;\n        }\n\n        inputElement.blur();\n      }\n    }, rest);\n  };\n\n  var getRootProps = function getRootProps(rest) {\n    return _objectSpread({\n      role: 'combobox',\n      'aria-expanded': store.getState().isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getFormProps = function getFormProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        rest = _objectWithoutProperties(providedProps, [\"inputElement\"]);\n\n    return _objectSpread({\n      action: '',\n      noValidate: true,\n      role: 'search',\n      onSubmit: function onSubmit(event) {\n        var _providedProps$inputE;\n\n        event.preventDefault();\n        props.onSubmit(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('submit', null);\n        (_providedProps$inputE = providedProps.inputElement) === null || _providedProps$inputE === void 0 ? void 0 : _providedProps$inputE.blur();\n      },\n      onReset: function onReset(event) {\n        var _providedProps$inputE2;\n\n        event.preventDefault();\n        props.onReset(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('reset', null);\n        (_providedProps$inputE2 = providedProps.inputElement) === null || _providedProps$inputE2 === void 0 ? void 0 : _providedProps$inputE2.focus();\n      }\n    }, rest);\n  };\n\n  var getInputProps = function getInputProps(providedProps) {\n    function onFocus(event) {\n      // We want to trigger a query when `openOnFocus` is true\n      // because the panel should open with the current query.\n      if (props.openOnFocus || Boolean(store.getState().query)) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: store.getState().completion || store.getState().query,\n          refresh: refresh,\n          store: store\n        }, setters));\n      }\n\n      store.dispatch('focus', null);\n    }\n\n    var isTouchDevice = ('ontouchstart' in props.environment);\n\n    var _ref2 = providedProps || {},\n        inputElement = _ref2.inputElement,\n        _ref2$maxLength = _ref2.maxLength,\n        maxLength = _ref2$maxLength === void 0 ? 512 : _ref2$maxLength,\n        rest = _objectWithoutProperties(_ref2, [\"inputElement\", \"maxLength\"]);\n\n    var activeItem = getActiveItem(store.getState());\n    return _objectSpread({\n      'aria-autocomplete': 'both',\n      'aria-activedescendant': store.getState().isOpen && store.getState().activeItemId !== null ? \"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId) : undefined,\n      'aria-controls': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      value: store.getState().completion || store.getState().query,\n      id: \"\".concat(props.id, \"-input\"),\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      autoCapitalize: 'off',\n      enterKeyHint: activeItem !== null && activeItem !== void 0 && activeItem.itemUrl ? 'go' : 'search',\n      spellCheck: 'false',\n      autoFocus: props.autoFocus,\n      placeholder: props.placeholder,\n      maxLength: maxLength,\n      type: 'search',\n      onChange: function onChange(event) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: event.currentTarget.value.slice(0, maxLength),\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onKeyDown: function onKeyDown(event) {\n        _onKeyDown(_objectSpread({\n          event: event,\n          props: props,\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onFocus: onFocus,\n      onBlur: function onBlur() {\n        // We do rely on the `blur` event on touch devices.\n        // See explanation in `onTouchStart`.\n        if (!isTouchDevice) {\n          store.dispatch('blur', null);\n        }\n      },\n      onClick: function onClick(event) {\n        // When the panel is closed and you click on the input while\n        // the input is focused, the `onFocus` event is not triggered\n        // (default browser behavior).\n        // In an autocomplete context, it makes sense to open the panel in this\n        // case.\n        // We mimic this event by catching the `onClick` event which\n        // triggers the `onFocus` for the panel to open.\n        if (providedProps.inputElement === props.environment.document.activeElement && !store.getState().isOpen) {\n          onFocus(event);\n        }\n      }\n    }, rest);\n  };\n\n  var getLabelProps = function getLabelProps(rest) {\n    return _objectSpread({\n      htmlFor: \"\".concat(props.id, \"-input\"),\n      id: \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getListProps = function getListProps(rest) {\n    return _objectSpread({\n      role: 'listbox',\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      id: \"\".concat(props.id, \"-list\")\n    }, rest);\n  };\n\n  var getPanelProps = function getPanelProps(rest) {\n    return _objectSpread({\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the panel so\n        // that the blur event is not triggered, otherwise it closes the\n        // panel.\n        event.preventDefault();\n      },\n      onMouseLeave: function onMouseLeave() {\n        store.dispatch('mouseleave', null);\n      }\n    }, rest);\n  };\n\n  var getItemProps = function getItemProps(providedProps) {\n    var item = providedProps.item,\n        source = providedProps.source,\n        rest = _objectWithoutProperties(providedProps, [\"item\", \"source\"]);\n\n    return _objectSpread({\n      id: \"\".concat(props.id, \"-item-\").concat(item.__autocomplete_id),\n      role: 'option',\n      'aria-selected': store.getState().activeItemId === item.__autocomplete_id,\n      onMouseMove: function onMouseMove(event) {\n        if (item.__autocomplete_id === store.getState().activeItemId) {\n          return;\n        }\n\n        store.dispatch('mousemove', item.__autocomplete_id);\n        var activeItem = getActiveItem(store.getState());\n\n        if (store.getState().activeItemId !== null && activeItem) {\n          var _item = activeItem.item,\n              itemInputValue = activeItem.itemInputValue,\n              itemUrl = activeItem.itemUrl,\n              _source = activeItem.source;\n\n          _source.onActive(_objectSpread({\n            event: event,\n            item: _item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: _source,\n            state: store.getState()\n          }, setters));\n        }\n      },\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the item so it\n        // can remain with the current `activeElement`.\n        event.preventDefault();\n      },\n      onClick: function onClick(event) {\n        var itemInputValue = source.getItemInputValue({\n          item: item,\n          state: store.getState()\n        });\n        var itemUrl = source.getItemUrl({\n          item: item,\n          state: store.getState()\n        }); // If `getItemUrl` is provided, it means that the suggestion\n        // is a link, not plain text that aims at updating the query.\n        // We can therefore skip the state change because it will update\n        // the `activeItemId`, resulting in a UI flash, especially\n        // noticeable on mobile.\n\n        var runPreCommand = itemUrl ? Promise.resolve() : onInput(_objectSpread({\n          event: event,\n          nextState: {\n            isOpen: false\n          },\n          props: props,\n          query: itemInputValue,\n          refresh: refresh,\n          store: store\n        }, setters));\n        runPreCommand.then(function () {\n          source.onSelect(_objectSpread({\n            event: event,\n            item: item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: source,\n            state: store.getState()\n          }, setters));\n        });\n      }\n    }, rest);\n  };\n\n  return {\n    getEnvironmentProps: getEnvironmentProps,\n    getRootProps: getRootProps,\n    getFormProps: getFormProps,\n    getLabelProps: getLabelProps,\n    getInputProps: getInputProps,\n    getPanelProps: getPanelProps,\n    getListProps: getListProps,\n    getItemProps: getItemProps\n  };\n}","import { getActiveItem } from './utils';\nexport function getCompletion(_ref) {\n  var _getActiveItem;\n\n  var state = _ref.state;\n\n  if (state.isOpen === false || state.activeItemId === null) {\n    return null;\n  }\n\n  return ((_getActiveItem = getActiveItem(state)) === null || _getActiveItem === void 0 ? void 0 : _getActiveItem.itemInputValue) || null;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, invariant } from '@algolia/autocomplete-shared';\nimport { getCompletion } from './getCompletion';\nimport { getNextActiveItemId } from './utils';\nexport var stateReducer = function stateReducer(state, action) {\n  switch (action.type) {\n    case 'setActiveItemId':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'setQuery':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          query: action.payload,\n          completion: null\n        });\n      }\n\n    case 'setCollections':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          collections: action.payload\n        });\n      }\n\n    case 'setIsOpen':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: action.payload\n        });\n      }\n\n    case 'setStatus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          status: action.payload\n        });\n      }\n\n    case 'setContext':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          context: _objectSpread(_objectSpread({}, state.context), action.payload)\n        });\n      }\n\n    case 'ArrowDown':\n      {\n        var nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload.hasOwnProperty('nextActiveItemId') ? action.payload.nextActiveItemId : getNextActiveItemId(1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, nextState), {}, {\n          completion: getCompletion({\n            state: nextState\n          })\n        });\n      }\n\n    case 'ArrowUp':\n      {\n        var _nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: getNextActiveItemId(-1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, _nextState), {}, {\n          completion: getCompletion({\n            state: _nextState\n          })\n        });\n      }\n\n    case 'Escape':\n      {\n        if (state.isOpen) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            activeItemId: null,\n            isOpen: false,\n            completion: null\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          query: '',\n          status: 'idle',\n          collections: []\n        });\n      }\n\n    case 'submit':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          isOpen: false,\n          status: 'idle'\n        });\n      }\n\n    case 'reset':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: // Since we open the panel on reset when openOnFocus=true\n          // we need to restore the highlighted index to the defaultActiveItemId. (DocSearch use-case)\n          // Since we close the panel when openOnFocus=false\n          // we lose track of the highlighted index. (Query-suggestions use-case)\n          action.props.openOnFocus === true ? action.props.defaultActiveItemId : null,\n          status: 'idle',\n          query: ''\n        });\n      }\n\n    case 'focus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId,\n          isOpen: (action.props.openOnFocus || Boolean(state.query)) && action.props.shouldPanelOpen({\n            state: state\n          })\n        });\n      }\n\n    case 'blur':\n      {\n        if (action.props.debug) {\n          return state;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: false,\n          activeItemId: null\n        });\n      }\n\n    case 'mousemove':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'mouseleave':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId\n        });\n      }\n\n    default:\n      invariant(false, \"The reducer action \".concat(JSON.stringify(action.type), \" is not supported.\"));\n      return state;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkOptions } from './checkOptions';\nimport { createStore } from './createStore';\nimport { getAutocompleteSetters } from './getAutocompleteSetters';\nimport { getDefaultProps } from './getDefaultProps';\nimport { getPropGetters } from './getPropGetters';\nimport { onInput } from './onInput';\nimport { stateReducer } from './stateReducer';\nexport function createAutocomplete(options) {\n  checkOptions(options);\n  var subscribers = [];\n  var props = getDefaultProps(options, subscribers);\n  var store = createStore(stateReducer, props, onStoreStateChange);\n  var setters = getAutocompleteSetters({\n    store: store\n  });\n  var propGetters = getPropGetters(_objectSpread({\n    props: props,\n    refresh: refresh,\n    store: store\n  }, setters));\n\n  function onStoreStateChange(_ref) {\n    var prevState = _ref.prevState,\n        state = _ref.state;\n    props.onStateChange(_objectSpread({\n      prevState: prevState,\n      state: state,\n      refresh: refresh\n    }, setters));\n  }\n\n  function refresh() {\n    return onInput(_objectSpread({\n      event: new Event('input'),\n      nextState: {\n        isOpen: store.getState().isOpen\n      },\n      props: props,\n      query: store.getState().query,\n      refresh: refresh,\n      store: store\n    }, setters));\n  }\n\n  props.plugins.forEach(function (plugin) {\n    var _plugin$subscribe;\n\n    return (_plugin$subscribe = plugin.subscribe) === null || _plugin$subscribe === void 0 ? void 0 : _plugin$subscribe.call(plugin, _objectSpread(_objectSpread({}, setters), {}, {\n      refresh: refresh,\n      onSelect: function onSelect(fn) {\n        subscribers.push({\n          onSelect: fn\n        });\n      },\n      onActive: function onActive(fn) {\n        subscribers.push({\n          onActive: fn\n        });\n      }\n    }));\n  });\n  return _objectSpread(_objectSpread({\n    refresh: refresh\n  }, propGetters), setters);\n}","import React from 'react';\n\nexport function TypesenseLogo() {\n  return (\n    <a\n      href=\"https://www.algolia.com/docsearch\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <span className=\"DocSearch-Label\">Search by</span>\n      <svg\n        width=\"80\"\n        height=\"18\"\n        viewBox=\"0 0 80 18\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect width=\"80\" height=\"18\" fill=\"white\" />\n        <path\n          d=\"M4.82356 5.166C4.8589 5.346 4.87657 5.52 4.87657 5.688C4.87657 5.844 4.8589 6.012 4.82356 6.192L2.57963 6.174V12.222C2.57963 12.726 2.80933 12.978 3.26871 12.978H4.61153C4.69399 13.182 4.73521 13.386 4.73521 13.59C4.73521 13.794 4.72344 13.92 4.69988 13.968C4.15804 14.04 3.59853 14.076 3.02135 14.076C1.87877 14.076 1.30748 13.578 1.30748 12.582V6.174L0.0530061 6.192C0.0176687 6.012 0 5.844 0 5.688C0 5.52 0.0176687 5.346 0.0530061 5.166L1.30748 5.184V3.294C1.30748 2.97 1.3546 2.742 1.44883 2.61C1.54307 2.466 1.72564 2.394 1.99656 2.394H2.47362L2.57963 2.502V5.202L4.82356 5.166Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M13.3733 5.256L10.9527 13.698C10.5051 15.246 10.028 16.338 9.5215 16.974C9.015 17.61 8.25525 17.928 7.24224 17.928C6.72396 17.928 6.2469 17.85 5.81107 17.694C5.77574 17.358 5.86997 17.034 6.09377 16.722C6.45893 16.854 6.84764 16.92 7.25991 16.92C7.8842 16.92 8.36126 16.704 8.69107 16.272C9.02089 15.84 9.32126 15.168 9.59218 14.256L9.64518 14.076C9.33893 14.052 9.10334 13.98 8.93844 13.86C8.78531 13.74 8.65574 13.518 8.54972 13.194L6.0761 5.274C6.44126 5.118 6.7004 5.04 6.85353 5.04C7.19512 5.04 7.42482 5.25 7.54261 5.67L8.93844 10.188C8.98555 10.332 9.25647 11.268 9.7512 12.996C9.77476 13.08 9.83365 13.122 9.92788 13.122L12.0835 5.166C12.2366 5.118 12.4368 5.094 12.6842 5.094C12.9433 5.094 13.1613 5.13 13.3379 5.202L13.3733 5.256Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M16.7683 13.41V16.974C16.7683 17.298 16.7212 17.526 16.6269 17.658C16.5327 17.802 16.3442 17.874 16.0615 17.874H15.5845L15.4785 17.766V5.22L15.5845 5.112H16.0439C16.3266 5.112 16.515 5.19 16.6093 5.346C16.7153 5.49 16.7683 5.73 16.7683 6.066V6.156C17.475 5.352 18.3173 4.95 19.2949 4.95C20.2962 4.95 21.05 5.364 21.5565 6.192C22.063 7.008 22.3163 8.142 22.3163 9.594C22.3163 10.302 22.222 10.938 22.0336 11.502C21.8569 12.066 21.6154 12.546 21.3092 12.942C21.0147 13.326 20.6731 13.626 20.2844 13.842C19.8957 14.046 19.4952 14.148 19.0829 14.148C18.2701 14.148 17.4986 13.902 16.7683 13.41ZM16.7683 7.56V12.186C17.4868 12.726 18.1641 12.996 18.8002 12.996C19.4363 12.996 19.9604 12.708 20.3727 12.132C20.785 11.556 20.9911 10.686 20.9911 9.522C20.9911 8.946 20.9381 8.448 20.8321 8.028C20.7379 7.596 20.6083 7.242 20.4434 6.966C20.2785 6.678 20.0841 6.468 19.8603 6.336C19.6483 6.192 19.4186 6.12 19.1712 6.12C18.7001 6.12 18.2525 6.246 17.8284 6.498C17.4044 6.75 17.051 7.104 16.7683 7.56Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M31.2631 9.99H25.7858C25.8447 12.03 26.6045 13.05 28.0651 13.05C28.8661 13.05 29.7201 12.798 30.6271 12.294C30.8862 12.534 31.0452 12.84 31.1041 13.212C30.1382 13.884 29.0545 14.22 27.8531 14.22C27.2406 14.22 26.7164 14.106 26.2806 13.878C25.8447 13.638 25.4855 13.314 25.2028 12.906C24.9318 12.486 24.7316 11.994 24.602 11.43C24.4725 10.866 24.4077 10.248 24.4077 9.576C24.4077 8.892 24.4842 8.268 24.6374 7.704C24.8023 7.14 25.0379 6.654 25.3441 6.246C25.6504 5.838 26.0155 5.52 26.4396 5.292C26.8754 5.064 27.3701 4.95 27.9237 4.95C28.4656 4.95 28.9485 5.052 29.3726 5.256C29.8084 5.448 30.1677 5.718 30.4504 6.066C30.7448 6.402 30.9687 6.81 31.1218 7.29C31.2749 7.758 31.3515 8.262 31.3515 8.802C31.3515 9.018 31.3397 9.228 31.3161 9.432C31.3044 9.624 31.2867 9.81 31.2631 9.99ZM25.7858 8.964H30.0263V8.73C30.0263 7.902 29.8555 7.236 29.5139 6.732C29.1723 6.228 28.6599 5.976 27.9767 5.976C27.3053 5.976 26.7812 6.246 26.4042 6.786C26.0391 7.326 25.8329 8.052 25.7858 8.964Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M33.0818 13.374C33.0935 13.11 33.1642 12.822 33.2938 12.51C33.4351 12.186 33.5942 11.934 33.7708 11.754C34.7014 12.27 35.52 12.528 36.2268 12.528C36.6155 12.528 36.9277 12.45 37.1632 12.294C37.4106 12.138 37.5343 11.928 37.5343 11.664C37.5343 11.244 37.2162 10.908 36.5802 10.656L35.5907 10.278C34.1066 9.726 33.3645 8.844 33.3645 7.632C33.3645 7.2 33.441 6.816 33.5942 6.48C33.7591 6.132 33.9829 5.838 34.2656 5.598C34.5601 5.346 34.9075 5.154 35.308 5.022C35.7085 4.89 36.1561 4.824 36.6508 4.824C36.8746 4.824 37.122 4.842 37.3929 4.878C37.6756 4.914 37.9583 4.968 38.241 5.04C38.5237 5.1 38.7947 5.172 39.0538 5.256C39.3129 5.34 39.5367 5.43 39.7252 5.526C39.7252 5.826 39.6663 6.138 39.5485 6.462C39.4307 6.786 39.2717 7.026 39.0715 7.182C38.1409 6.762 37.334 6.552 36.6508 6.552C36.3446 6.552 36.1031 6.63 35.9264 6.786C35.7497 6.93 35.6614 7.122 35.6614 7.362C35.6614 7.734 35.9559 8.028 36.5448 8.244L37.6226 8.64C38.4 8.916 38.9772 9.294 39.3542 9.774C39.7311 10.254 39.9196 10.812 39.9196 11.448C39.9196 12.3 39.6074 12.984 38.9831 13.5C38.3588 14.004 37.4636 14.256 36.2975 14.256C35.1549 14.256 34.083 13.962 33.0818 13.374Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M48.5671 10.296H43.6906C43.7259 10.956 43.8732 11.478 44.1323 11.862C44.4032 12.234 44.8685 12.42 45.5281 12.42C46.2113 12.42 46.9946 12.216 47.8781 11.808C48.2197 12.168 48.4376 12.642 48.5318 13.23C47.5895 13.914 46.4587 14.256 45.1394 14.256C43.8908 14.256 42.9426 13.866 42.2948 13.086C41.6587 12.294 41.3406 11.124 41.3406 9.576C41.3406 8.856 41.4231 8.208 41.588 7.632C41.7529 7.044 41.9944 6.546 42.3124 6.138C42.6305 5.718 43.0192 5.394 43.4786 5.166C43.9379 4.938 44.4621 4.824 45.0511 4.824C45.6518 4.824 46.1819 4.92 46.6413 5.112C47.1006 5.292 47.4894 5.556 47.8074 5.904C48.1254 6.24 48.361 6.642 48.5141 7.11C48.679 7.578 48.7615 8.088 48.7615 8.64C48.7615 8.94 48.7438 9.228 48.7085 9.504C48.6732 9.768 48.626 10.032 48.5671 10.296ZM45.1571 6.516C44.2383 6.516 43.7436 7.224 43.6729 8.64H46.6059V8.424C46.6059 7.848 46.4881 7.386 46.2525 7.038C46.017 6.69 45.6518 6.516 45.1571 6.516Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M58.2504 7.992V11.916C58.2504 12.684 58.3741 13.254 58.6215 13.626C58.2445 13.962 57.791 14.13 57.261 14.13C56.7545 14.13 56.407 14.016 56.2185 13.788C56.0301 13.548 55.9358 13.176 55.9358 12.672V8.478C55.9358 7.938 55.871 7.56 55.7415 7.344C55.6119 7.128 55.3704 7.02 55.0171 7.02C54.3928 7.02 53.8097 7.308 53.2679 7.884V14.004C53.0912 14.04 52.9027 14.064 52.7025 14.076C52.514 14.088 52.3196 14.094 52.1194 14.094C51.9191 14.094 51.7189 14.088 51.5187 14.076C51.3302 14.064 51.1476 14.04 50.9709 14.004V5.094L51.0769 4.968H51.9604C52.62 4.968 53.0323 5.328 53.1972 6.048C54.0571 5.292 54.911 4.914 55.7591 4.914C56.6072 4.914 57.2315 5.196 57.632 5.76C58.0443 6.312 58.2504 7.056 58.2504 7.992Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M60.1039 13.374C60.1156 13.11 60.1863 12.822 60.3159 12.51C60.4572 12.186 60.6162 11.934 60.7929 11.754C61.7235 12.27 62.5421 12.528 63.2489 12.528C63.6376 12.528 63.9497 12.45 64.1853 12.294C64.4327 12.138 64.5564 11.928 64.5564 11.664C64.5564 11.244 64.2383 10.908 63.6023 10.656L62.6128 10.278C61.1286 9.726 60.3866 8.844 60.3866 7.632C60.3866 7.2 60.4631 6.816 60.6162 6.48C60.7812 6.132 61.005 5.838 61.2877 5.598C61.5821 5.346 61.9296 5.154 62.3301 5.022C62.7306 4.89 63.1782 4.824 63.6729 4.824C63.8967 4.824 64.1441 4.842 64.415 4.878C64.6977 4.914 64.9804 4.968 65.2631 5.04C65.5458 5.1 65.8167 5.172 66.0759 5.256C66.335 5.34 66.5588 5.43 66.7473 5.526C66.7473 5.826 66.6884 6.138 66.5706 6.462C66.4528 6.786 66.2938 7.026 66.0935 7.182C65.163 6.762 64.3561 6.552 63.6729 6.552C63.3667 6.552 63.1252 6.63 62.9485 6.786C62.7718 6.93 62.6835 7.122 62.6835 7.362C62.6835 7.734 62.978 8.028 63.5669 8.244L64.6447 8.64C65.4221 8.916 65.9993 9.294 66.3762 9.774C66.7532 10.254 66.9416 10.812 66.9416 11.448C66.9416 12.3 66.6295 12.984 66.0052 13.5C65.3809 14.004 64.4857 14.256 63.3196 14.256C62.177 14.256 61.1051 13.962 60.1039 13.374Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M75.5892 10.296H70.7127C70.748 10.956 70.8953 11.478 71.1544 11.862C71.4253 12.234 71.8906 12.42 72.5502 12.42C73.2334 12.42 74.0167 12.216 74.9002 11.808C75.2418 12.168 75.4597 12.642 75.5539 13.23C74.6116 13.914 73.4808 14.256 72.1615 14.256C70.9129 14.256 69.9647 13.866 69.3168 13.086C68.6808 12.294 68.3627 11.124 68.3627 9.576C68.3627 8.856 68.4452 8.208 68.6101 7.632C68.775 7.044 69.0165 6.546 69.3345 6.138C69.6526 5.718 70.0413 5.394 70.5007 5.166C70.96 4.938 71.4842 4.824 72.0732 4.824C72.6739 4.824 73.204 4.92 73.6634 5.112C74.1227 5.292 74.5114 5.556 74.8295 5.904C75.1475 6.24 75.3831 6.642 75.5362 7.11C75.7011 7.578 75.7836 8.088 75.7836 8.64C75.7836 8.94 75.7659 9.228 75.7306 9.504C75.6953 9.768 75.6481 10.032 75.5892 10.296ZM72.1792 6.516C71.2604 6.516 70.7657 7.224 70.695 8.64H73.628V8.424C73.628 7.848 73.5102 7.386 73.2746 7.038C73.0391 6.69 72.6739 6.516 72.1792 6.516Z\"\n          fill=\"#1035BC\"\n        />\n        <path\n          d=\"M78.3287 16.524V0.0540004C78.5054 0.0180001 78.7056 0 78.9294 0C79.165 0 79.3829 0.0180001 79.5832 0.0540004V16.524C79.3829 16.56 79.165 16.578 78.9294 16.578C78.7056 16.578 78.5054 16.56 78.3287 16.524Z\"\n          fill=\"#1035BC\"\n        />\n      </svg>\n    </a>\n  );\n}\n","import React from 'react';\n\nimport { TypesenseLogo } from './TypesenseLogo';\n\nexport function Footer() {\n  return (\n    <>\n      <div className=\"DocSearch-Logo\">\n        <TypesenseLogo />\n      </div>\n      <ul className=\"DocSearch-Commands\">\n        <li>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Label\">to select</span>\n        </li>\n        <li>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M7.5 3.5v8M10.5 8.5l-3 3-3-3\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M7.5 11.5v-8M10.5 6.5l-3-3-3 3\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Label\">to navigate</span>\n        </li>\n        <li>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Label\">to close</span>\n        </li>\n      </ul>\n    </>\n  );\n}\n\ninterface CommandIconProps {\n  children: React.ReactNode;\n}\n\nfunction CommandIcon(props: CommandIconProps) {\n  return (\n    <svg width=\"15\" height=\"15\">\n      <g\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.2\"\n      >\n        {props.children}\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport { DocSearchHit } from './types';\n\ninterface HitProps {\n  hit: DocSearchHit;\n  children: React.ReactNode;\n}\n\nexport function Hit({ hit, children }: HitProps) {\n  return <a href={hit.url}>{children}</a>;\n}\n","import React from 'react';\n\nexport function LoadingIcon() {\n  return (\n    <svg viewBox=\"0 0 38 38\" stroke=\"currentColor\" strokeOpacity=\".5\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n          <circle strokeOpacity=\".3\" cx=\"18\" cy=\"18\" r=\"18\" />\n          <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n            <animateTransform\n              attributeName=\"transform\"\n              type=\"rotate\"\n              from=\"0 18 18\"\n              to=\"360 18 18\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n            />\n          </path>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function RecentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0\" />\n        <path d=\"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ResetIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SelectIcon() {\n  return (\n    <svg\n      className=\"DocSearch-Hit-Select-Icon\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M18 3v4c0 2-2 4-4 4H2\" />\n        <path d=\"M8 17l-6-6 6-6\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SourceIcon(props: { type: string }) {\n  switch (props.type) {\n    case 'lvl1':\n      return <LvlIcon />;\n    case 'content':\n      return <ContentIcon />;\n    default:\n      return <AnchorIcon />;\n  }\n}\n\nfunction LvlIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction AnchorIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction ContentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 5H3h14zm0 5H3h14zm0 5H3h14z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function StarIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ErrorIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function NoResultsIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport { ErrorIcon } from './icons';\n\nexport function ErrorScreen() {\n  return (\n    <div className=\"DocSearch-ErrorScreen\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <ErrorIcon />\n      </div>\n      <p className=\"DocSearch-Title\">Unable to fetch results</p>\n      <p className=\"DocSearch-Help\">\n        You might want to check your network connection.\n      </p>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { NoResultsIcon } from './icons';\nimport { ScreenStateProps } from './ScreenState';\nimport { InternalDocSearchHit } from './types';\n\ntype NoResultsScreenProps = ScreenStateProps<InternalDocSearchHit>;\n\nexport function NoResultsScreen(props: NoResultsScreenProps) {\n  const searchSuggestions: string[] | undefined = props.state.context\n    .searchSuggestions as string[];\n\n  return (\n    <div className=\"DocSearch-NoResults\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <NoResultsIcon />\n      </div>\n      <p className=\"DocSearch-Title\">\n        No results for \"<strong>{props.state.query}</strong>\"\n      </p>\n\n      {searchSuggestions && searchSuggestions.length > 0 && (\n        <div className=\"DocSearch-NoResults-Prefill-List\">\n          <p className=\"DocSearch-Help\">Try searching for:</p>\n          <ul>\n            {searchSuggestions.slice(0, 3).reduce<React.ReactNode[]>(\n              (acc, search) => [\n                ...acc,\n                <li key={search}>\n                  <button\n                    className=\"DocSearch-Prefill\"\n                    key={search}\n                    onClick={() => {\n                      props.setQuery(search.toLowerCase() + ' ');\n                      props.refresh();\n                      props.inputRef.current!.focus();\n                    }}\n                  >\n                    {search}\n                  </button>\n                </li>,\n              ],\n              []\n            )}\n          </ul>\n        </div>\n      )}\n\n      <p className=\"DocSearch-Help\">\n        Believe this query should return results?{' '}\n        <a\n          href={`https://github.com/algolia/docsearch-configs/issues/new?template=Missing_results.md&title=[${props.indexName}]+Missing+results+for+query+\"${props.state.query}\"`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Let us know\n        </a>\n        .\n      </p>\n    </div>\n  );\n}\n","import { createElement } from 'react';\n\nimport { StoredDocSearchHit } from './types';\n\ninterface SnippetProps<TItem> {\n  [prop: string]: unknown;\n  hit: TItem;\n  attribute: string;\n  tagName?: string;\n}\n\nexport function Snippet<TItem extends StoredDocSearchHit>({\n  hit,\n  attribute,\n  tagName = 'span',\n  ...rest\n}: SnippetProps<TItem>) {\n  return createElement(tagName, {\n    ...rest,\n    dangerouslySetInnerHTML: {\n      __html:\n        (hit._highlightResult\n          ? hit._highlightResult[attribute]?.value\n          : false) || hit[attribute],\n    },\n  });\n}\n","import {\n  AutocompleteApi,\n  AutocompleteState,\n  BaseItem,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport { DocSearchProps } from './DocSearch';\nimport { Snippet } from './Snippet';\nimport { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\ninterface ResultsProps<TItem extends BaseItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  title: string;\n  collection: AutocompleteState<TItem>['collections'][0];\n  renderIcon(props: { item: TItem; index: number }): React.ReactNode;\n  renderAction(props: {\n    item: TItem;\n    runDeleteTransition: (cb: () => void) => void;\n    runFavoriteTransition: (cb: () => void) => void;\n  }): React.ReactNode;\n  onItemClick(item: TItem): void;\n  hitComponent: DocSearchProps['hitComponent'];\n}\n\nexport function Results<TItem extends StoredDocSearchHit>(\n  props: ResultsProps<TItem>\n) {\n  if (!props.collection || props.collection.items.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"DocSearch-Hits\">\n      <div className=\"DocSearch-Hit-source\">{props.title}</div>\n\n      <ul {...props.getListProps()}>\n        {props.collection.items.map((item, index) => {\n          return (\n            <Result\n              key={[props.title, item.objectID].join(':')}\n              item={item}\n              index={index}\n              {...props}\n            />\n          );\n        })}\n      </ul>\n    </section>\n  );\n}\n\ninterface ResultProps<TItem extends BaseItem> extends ResultsProps<TItem> {\n  item: TItem;\n  index: number;\n}\n\nfunction Result<TItem extends StoredDocSearchHit>({\n  item,\n  index,\n  renderIcon,\n  renderAction,\n  getItemProps,\n  onItemClick,\n  collection,\n  hitComponent,\n}: ResultProps<TItem>) {\n  const [isDeleting, setIsDeleting] = React.useState(false);\n  const [isFavoriting, setIsFavoriting] = React.useState(false);\n  const action = React.useRef<(() => void) | null>(null);\n  const Hit = hitComponent!;\n\n  function runDeleteTransition(cb: () => void) {\n    setIsDeleting(true);\n    action.current = cb;\n  }\n\n  function runFavoriteTransition(cb: () => void) {\n    setIsFavoriting(true);\n    action.current = cb;\n  }\n\n  return (\n    <li\n      className={[\n        'DocSearch-Hit',\n        ((item as unknown) as InternalDocSearchHit).__docsearch_parent &&\n          'DocSearch-Hit--Child',\n        isDeleting && 'DocSearch-Hit--deleting',\n        isFavoriting && 'DocSearch-Hit--favoriting',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onTransitionEnd={() => {\n        if (action.current) {\n          action.current();\n        }\n      }}\n      {...getItemProps({\n        item,\n        source: collection.source,\n        onClick() {\n          onItemClick(item);\n        },\n      })}\n    >\n      <Hit hit={item}>\n        <div className=\"DocSearch-Hit-Container\">\n          {renderIcon({ item, index })}\n\n          {item[`hierarchy.${item.type}`] && item.type === 'lvl1' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n              {item.content && (\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"content\"\n                />\n              )}\n            </div>\n          )}\n\n          {item[`hierarchy.${item.type}`] &&\n            (item.type === 'lvl2' ||\n              item.type === 'lvl3' ||\n              item.type === 'lvl4' ||\n              item.type === 'lvl5' ||\n              item.type === 'lvl6') && (\n              <div className=\"DocSearch-Hit-content-wrapper\">\n                <Snippet\n                  className=\"DocSearch-Hit-title\"\n                  hit={item}\n                  attribute={`hierarchy.${item.type}`}\n                />\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"hierarchy.lvl1\"\n                />\n              </div>\n            )}\n\n          {item.type === 'content' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"content\"\n              />\n              <Snippet\n                className=\"DocSearch-Hit-path\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n            </div>\n          )}\n\n          {renderAction({ item, runDeleteTransition, runFavoriteTransition })}\n        </div>\n      </Hit>\n    </li>\n  );\n}\n","export function groupBy<TValue extends object>(\n  values: TValue[],\n  predicate: (value: TValue) => string\n): Record<string, TValue[]> {\n  return values.reduce<Record<string, TValue[]>>((acc, item) => {\n    const key = predicate(item);\n\n    if (!acc.hasOwnProperty(key)) {\n      acc[key] = [];\n    }\n\n    // We limit each section to show 5 hits maximum.\n    // This acts as a frontend alternative to `distinct`.\n    if (acc[key].length < 5) {\n      acc[key].push(item);\n    }\n\n    return acc;\n  }, {});\n}\n","export function identity<TParam>(x: TParam): TParam {\n  return x;\n}\n","export function noop(..._args: any[]): void {}\n","import { DocSearchHit, InternalDocSearchHit } from './../types';\n\nconst regexHighlightTags = /(<mark>|<\\/mark>)/g;\nconst regexHasHighlightTags = RegExp(regexHighlightTags.source);\n\nexport function removeHighlightTags(\n  hit: DocSearchHit | InternalDocSearchHit\n): string {\n  if (\n    !(hit as InternalDocSearchHit).__docsearch_parent &&\n    !hit._highlightResult\n  ) {\n    return hit['hierarchy.lvl0'];\n  }\n\n  const { value } = hit._highlightResult\n    ? hit._highlightResult['hierarchy.lvl0']\n    : (hit as InternalDocSearchHit).__docsearch_parent!._highlightResult[\n        'hierarchy.lvl0'\n      ];\n\n  return value && regexHasHighlightTags.test(value)\n    ? value.replace(regexHighlightTags, '')\n    : value;\n}\n","import React from 'react';\n\nimport { SelectIcon, SourceIcon } from './icons';\nimport { Results } from './Results';\nimport { ScreenStateProps } from './ScreenState';\nimport { InternalDocSearchHit } from './types';\nimport { removeHighlightTags } from './utils';\n\ntype ResultsScreenProps = ScreenStateProps<InternalDocSearchHit>;\n\nexport function ResultsScreen(props: ResultsScreenProps) {\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      {props.state.collections.map((collection, index) => {\n        if (collection.items.length === 0) {\n          return null;\n        }\n\n        const title = removeHighlightTags(collection.items[0]);\n\n        return (\n          <Results\n            {...props}\n            key={index}\n            title={title}\n            collection={collection}\n            renderIcon={({ item, index }) => (\n              <>\n                {item.__docsearch_parent && (\n                  <svg className=\"DocSearch-Hit-Tree\" viewBox=\"0 0 24 54\">\n                    <g\n                      stroke=\"currentColor\"\n                      fill=\"none\"\n                      fillRule=\"evenodd\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      {item.__docsearch_parent !==\n                      collection.items[index + 1]?.__docsearch_parent ? (\n                        <path d=\"M8 6v21M20 27H8.3\" />\n                      ) : (\n                        <path d=\"M8 6v42M20 27H8.3\" />\n                      )}\n                    </g>\n                  </svg>\n                )}\n\n                <div className=\"DocSearch-Hit-icon\">\n                  <SourceIcon type={item.type} />\n                </div>\n              </>\n            )}\n            renderAction={() => (\n              <div className=\"DocSearch-Hit-action\">\n                <SelectIcon />\n              </div>\n            )}\n          />\n        );\n      })}\n\n      {props.resultsFooterComponent && (\n        <section className=\"DocSearch-HitsFooter\">\n          <props.resultsFooterComponent state={props.state} />\n        </section>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { RecentIcon, ResetIcon, StarIcon } from './icons';\nimport { Results } from './Results';\nimport { ScreenStateProps } from './ScreenState';\nimport { InternalDocSearchHit } from './types';\n\ninterface StartScreenProps extends ScreenStateProps<InternalDocSearchHit> {\n  hasCollections: boolean;\n}\n\nexport function StartScreen(props: StartScreenProps) {\n  if (props.state.status === 'idle' && props.hasCollections === false) {\n    if (props.disableUserPersonalization) {\n      return null;\n    }\n\n    return (\n      <div className=\"DocSearch-StartScreen\">\n        <p className=\"DocSearch-Help\">No recent searches</p>\n      </div>\n    );\n  }\n\n  if (props.hasCollections === false) {\n    return null;\n  }\n\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      <Results\n        {...props}\n        title=\"Recent\"\n        collection={props.state.collections[0]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <RecentIcon />\n          </div>\n        )}\n        renderAction={({\n          item,\n          runFavoriteTransition,\n          runDeleteTransition,\n        }) => (\n          <>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title=\"Save this search\"\n                onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  runFavoriteTransition(() => {\n                    props.favoriteSearches.add(item);\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <StarIcon />\n              </button>\n            </div>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title=\"Remove this search from history\"\n                onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  runDeleteTransition(() => {\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <ResetIcon />\n              </button>\n            </div>\n          </>\n        )}\n      />\n\n      <Results\n        {...props}\n        title=\"Favorites\"\n        collection={props.state.collections[1]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <StarIcon />\n          </div>\n        )}\n        renderAction={({ item, runDeleteTransition }) => (\n          <div className=\"DocSearch-Hit-action\">\n            <button\n              className=\"DocSearch-Hit-action-button\"\n              title=\"Remove this search from favorites\"\n              onClick={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                runDeleteTransition(() => {\n                  props.favoriteSearches.remove(item);\n                  props.refresh();\n                });\n              }}\n            >\n              <ResetIcon />\n            </button>\n          </div>\n        )}\n      />\n    </div>\n  );\n}\n","import {\n  AutocompleteApi,\n  AutocompleteState,\n  BaseItem,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport { DocSearchProps } from './DocSearch';\nimport { ErrorScreen } from './ErrorScreen';\nimport { NoResultsScreen } from './NoResultsScreen';\nimport { ResultsScreen } from './ResultsScreen';\nimport { StartScreen } from './StartScreen';\nimport { StoredSearchPlugin } from './stored-searches';\nimport { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\nexport interface ScreenStateProps<TItem extends BaseItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<TItem>;\n  recentSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  favoriteSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  onItemClick(item: InternalDocSearchHit): void;\n  inputRef: React.MutableRefObject<null | HTMLInputElement>;\n  hitComponent: DocSearchProps['hitComponent'];\n  indexName: DocSearchProps['typesenseCollectionName'];\n  disableUserPersonalization: boolean;\n  resultsFooterComponent: DocSearchProps['resultsFooterComponent'];\n}\n\nexport const ScreenState = React.memo(\n  (props: ScreenStateProps<InternalDocSearchHit>) => {\n    if (props.state.status === 'error') {\n      return <ErrorScreen />;\n    }\n\n    const hasCollections = props.state.collections.some(\n      (collection) => collection.items.length > 0\n    );\n\n    if (!props.state.query) {\n      return <StartScreen {...props} hasCollections={hasCollections} />;\n    }\n\n    if (hasCollections === false) {\n      return <NoResultsScreen {...props} />;\n    }\n\n    return <ResultsScreen {...props} />;\n  },\n  function areEqual(_prevProps, nextProps) {\n    // We don't update the screen when Autocomplete is loading or stalled to\n    // avoid UI flashes:\n    //  - Empty screen → Results screen\n    //  - NoResults screen → NoResults screen with another query\n    return (\n      nextProps.state.status === 'loading' ||\n      nextProps.state.status === 'stalled'\n    );\n  }\n);\n","import { AutocompleteApi, AutocompleteState } from '@algolia/autocomplete-core';\nimport React, { MutableRefObject } from 'react';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport { LoadingIcon } from './icons/LoadingIcon';\nimport { ResetIcon } from './icons/ResetIcon';\nimport { SearchIcon } from './icons/SearchIcon';\nimport { InternalDocSearchHit } from './types';\n\ninterface SearchBoxProps\n  extends AutocompleteApi<\n    InternalDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<InternalDocSearchHit>;\n  autoFocus: boolean;\n  inputRef: MutableRefObject<HTMLInputElement | null>;\n  onClose(): void;\n  isFromSelection: boolean;\n}\n\nexport function SearchBox(props: SearchBoxProps) {\n  const { onReset } = props.getFormProps({\n    inputElement: props.inputRef.current,\n  });\n\n  React.useEffect(() => {\n    if (props.autoFocus && props.inputRef.current) {\n      props.inputRef.current.focus();\n    }\n  }, [props.autoFocus, props.inputRef]);\n\n  React.useEffect(() => {\n    if (props.isFromSelection && props.inputRef.current) {\n      props.inputRef.current.select();\n    }\n  }, [props.isFromSelection, props.inputRef]);\n\n  return (\n    <>\n      <form\n        className=\"DocSearch-Form\"\n        onSubmit={(event) => {\n          event.preventDefault();\n        }}\n        onReset={onReset}\n      >\n        <label className=\"DocSearch-MagnifierLabel\" {...props.getLabelProps()}>\n          <SearchIcon />\n        </label>\n\n        <div className=\"DocSearch-LoadingIndicator\">\n          <LoadingIcon />\n        </div>\n\n        <input\n          className=\"DocSearch-Input\"\n          ref={props.inputRef}\n          {...props.getInputProps({\n            inputElement: props.inputRef.current!,\n            autoFocus: props.autoFocus,\n            maxLength: MAX_QUERY_SIZE,\n          })}\n        />\n\n        <button\n          type=\"reset\"\n          title=\"Clear the query\"\n          className=\"DocSearch-Reset\"\n          hidden={!props.state.query}\n        >\n          <ResetIcon />\n        </button>\n      </form>\n\n      <button className=\"DocSearch-Cancel\" onClick={props.onClose}>\n        Cancel\n      </button>\n    </>\n  );\n}\n","export const MAX_QUERY_SIZE = 64;\n","import { DocSearchHit, StoredDocSearchHit } from './types';\n\nfunction isLocalStorageSupported() {\n  const key = '__TEST_KEY__';\n\n  try {\n    localStorage.setItem(key, '');\n    localStorage.removeItem(key);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction createStorage<TItem>(key: string) {\n  if (isLocalStorageSupported() === false) {\n    return {\n      setItem() {},\n      getItem() {\n        return [];\n      },\n    };\n  }\n\n  return {\n    setItem(item: TItem[]) {\n      return window.localStorage.setItem(key, JSON.stringify(item));\n    },\n    getItem(): TItem[] {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : [];\n    },\n  };\n}\n\ntype CreateStoredSearchesOptions = {\n  key: string;\n  limit?: number;\n};\n\nexport type StoredSearchPlugin<TItem> = {\n  add(item: TItem): void;\n  remove(item: TItem): void;\n  getAll(): TItem[];\n};\n\nexport function createStoredSearches<TItem extends StoredDocSearchHit>({\n  key,\n  limit = 5,\n}: CreateStoredSearchesOptions): StoredSearchPlugin<TItem> {\n  const storage = createStorage<TItem>(key);\n  let items = storage.getItem().slice(0, limit);\n\n  return {\n    add(item: TItem) {\n      const {\n        _highlightResult,\n        _snippetResult,\n        ...hit\n      } = (item as unknown) as DocSearchHit;\n\n      const isQueryAlreadySaved = items.findIndex(\n        (x) => x.objectID === hit.objectID\n      );\n\n      if (isQueryAlreadySaved > -1) {\n        items.splice(isQueryAlreadySaved, 1);\n      }\n\n      items.unshift(hit as TItem);\n      items = items.slice(0, limit);\n\n      storage.setItem(items);\n    },\n    remove(item: TItem) {\n      items = items.filter((x) => x.objectID !== item.objectID);\n\n      storage.setItem(items);\n    },\n    getAll() {\n      return items;\n    },\n  };\n}\n","import React from 'react';\nimport { SearchClient } from 'typesense';\nimport { SearchResponseAdapter as TypesenseSearchResponseAdapter } from 'typesense-instantsearch-adapter/lib/SearchResponseAdapter';\n\nexport function useSearchClient(\n  typesenseServerConfig: object,\n  transformSearchClient: (searchClient: SearchClient) => SearchClient\n): SearchClient {\n  return React.useMemo(() => {\n    const typesense = new SearchClient(typesenseServerConfig);\n\n    const client = {\n      search: async ([request]) => {\n        const response = await typesense.multiSearch.perform({\n          searches: [request],\n        });\n        const typesenseSearchResponseAdapter = new TypesenseSearchResponseAdapter(\n          response.results[0],\n          {\n            params: {\n              ...request.params,\n              highlightPreTag: '<mark>',\n              highlightPostTag: '</mark>',\n            },\n          },\n          {\n            geoLocationField: '',\n          }\n        );\n        return {\n          results: [typesenseSearchResponseAdapter.adapt()],\n        };\n      },\n    };\n\n    return transformSearchClient(client);\n  }, [transformSearchClient]);\n}\n","import {\n  AutocompleteState,\n  createAutocomplete,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport { DocSearchProps } from './DocSearch';\nimport { Footer } from './Footer';\nimport { Hit } from './Hit';\nimport { ScreenState } from './ScreenState';\nimport { SearchBox } from './SearchBox';\nimport { createStoredSearches } from './stored-searches';\nimport {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { useSearchClient } from './useSearchClient';\nimport { useTouchEvents } from './useTouchEvents';\nimport { useTrapFocus } from './useTrapFocus';\nimport { groupBy, identity, noop, removeHighlightTags } from './utils';\n\nexport interface DocSearchModalProps extends DocSearchProps {\n  initialScrollY: number;\n  onClose?(): void;\n}\n\nexport function DocSearchModal({\n  typesenseCollectionName,\n  typesenseServerConfig,\n  typesenseSearchParameters,\n  placeholder = 'Search docs',\n  onClose = noop,\n  transformItems = identity,\n  hitComponent = Hit,\n  resultsFooterComponent = () => null,\n  navigator,\n  initialScrollY = 0,\n  transformSearchClient = identity,\n  disableUserPersonalization = false,\n  initialQuery: initialQueryFromProp = '',\n}: DocSearchModalProps) {\n  const [state, setState] = React.useState<\n    AutocompleteState<InternalDocSearchHit>\n  >({\n    query: '',\n    collections: [],\n    completion: null,\n    context: {},\n    isOpen: false,\n    activeItemId: null,\n    status: 'idle',\n  });\n\n  const indexName = typesenseCollectionName;\n  const containerRef = React.useRef<HTMLDivElement | null>(null);\n  const modalRef = React.useRef<HTMLDivElement | null>(null);\n  const formElementRef = React.useRef<HTMLDivElement | null>(null);\n  const dropdownRef = React.useRef<HTMLDivElement | null>(null);\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\n  const snippetLength = React.useRef<number>(10);\n  const initialQueryFromSelection = React.useRef(\n    typeof window !== 'undefined'\n      ? window.getSelection()!.toString().slice(0, MAX_QUERY_SIZE)\n      : ''\n  ).current;\n  const initialQuery = React.useRef(\n    initialQueryFromProp || initialQueryFromSelection\n  ).current;\n\n  const searchClient = useSearchClient(\n    typesenseServerConfig,\n    transformSearchClient\n  );\n  const favoriteSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: `__DOCSEARCH_FAVORITE_SEARCHES__${indexName}`,\n      limit: 10,\n    })\n  ).current;\n  const recentSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: `__DOCSEARCH_RECENT_SEARCHES__${indexName}`,\n      // We display 7 recent searches and there's no favorites, but only\n      // 4 when there are favorites.\n      limit: favoriteSearches.getAll().length === 0 ? 7 : 4,\n    })\n  ).current;\n\n  const saveRecentSearch = React.useCallback(\n    function saveRecentSearch(item: InternalDocSearchHit) {\n      if (disableUserPersonalization) {\n        return;\n      }\n\n      // We don't store `content` record, but their parent if available.\n      const search = item.type === 'content' ? item.__docsearch_parent : item;\n\n      // We save the recent search only if it's not favorited.\n      if (\n        search &&\n        favoriteSearches\n          .getAll()\n          .findIndex((x) => x.objectID === search.objectID) === -1\n      ) {\n        recentSearches.add(search);\n      }\n    },\n    [favoriteSearches, recentSearches, disableUserPersonalization]\n  );\n\n  const autocomplete = React.useMemo(\n    () =>\n      createAutocomplete<\n        InternalDocSearchHit,\n        React.FormEvent<HTMLFormElement>,\n        React.MouseEvent,\n        React.KeyboardEvent\n      >({\n        id: 'docsearch',\n        defaultActiveItemId: 0,\n        placeholder,\n        openOnFocus: true,\n        initialState: {\n          query: initialQuery,\n          context: {\n            searchSuggestions: [],\n          },\n        },\n        navigator,\n        onStateChange({ state }) {\n          setState(state);\n        },\n        // @ts-ignore Temporarily ignore bad typing in autocomplete-core.\n        getSources({ query, state, setContext, setStatus }) {\n          if (!query) {\n            if (disableUserPersonalization) {\n              return [];\n            }\n\n            return [\n              {\n                sourceId: 'recentSearches',\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return recentSearches.getAll();\n                },\n              },\n              {\n                sourceId: 'favoriteSearches',\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return favoriteSearches.getAll();\n                },\n              },\n            ];\n          }\n\n          return searchClient\n            .search<DocSearchHit>([\n              {\n                collection: typesenseCollectionName,\n                q: query,\n                /* eslint-disable @typescript-eslint/camelcase */\n                query_by:\n                  'hierarchy.lvl0,hierarchy.lvl1,hierarchy.lvl2,hierarchy.lvl3,hierarchy.lvl4,hierarchy.lvl5,hierarchy.lvl6,content',\n                include_fields:\n                  'hierarchy.lvl0,hierarchy.lvl1,hierarchy.lvl2,hierarchy.lvl3,hierarchy.lvl4,hierarchy.lvl5,hierarchy.lvl6,content,anchor,url,type,id',\n                highlight_full_fields:\n                  'hierarchy.lvl0,hierarchy.lvl1,hierarchy.lvl2,hierarchy.lvl3,hierarchy.lvl4,hierarchy.lvl5,hierarchy.lvl6,content',\n                group_by: 'url',\n                group_limit: 3,\n                ...typesenseSearchParameters,\n                /* eslint-enable @typescript-eslint/camelcase */\n              },\n            ])\n            .catch((error) => {\n              // The Algolia `RetryError` happens when all the servers have\n              // failed, meaning that there's no chance the response comes\n              // back. This is the right time to display an error.\n              // See https://github.com/algolia/algoliasearch-client-javascript/blob/2ffddf59bc765cd1b664ee0346b28f00229d6e12/packages/transporter/src/errors/createRetryError.ts#L5\n              if (error.name === 'RetryError') {\n                setStatus('error');\n              }\n\n              throw error;\n            })\n            .then(({ results }) => {\n              const { hits, nbHits } = results[0];\n              const sources = groupBy(hits, (hit) =>\n                removeHighlightTags(hit as DocSearchHit)\n              ) as Record<string, DocSearchHit[]>;\n\n              // We store the `lvl0`s to display them as search suggestions\n              // in the \"no results\" screen.\n              if (\n                (state.context.searchSuggestions as any[]).length <\n                Object.keys(sources).length\n              ) {\n                setContext({\n                  searchSuggestions: Object.keys(sources),\n                });\n              }\n\n              setContext({ nbHits });\n\n              return Object.values<DocSearchHit[]>(sources).map(\n                (items, index) => {\n                  return {\n                    sourceId: `hits${index}`,\n                    onSelect({ item, event }) {\n                      saveRecentSearch(item);\n\n                      if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                        onClose();\n                      }\n                    },\n                    getItemUrl({ item }) {\n                      return item.url;\n                    },\n                    getItems() {\n                      return Object.values(\n                        groupBy(items, (item) => item['hierarchy.lvl1'])\n                      )\n                        .map(transformItems)\n                        .map((hits) =>\n                          hits.map((item) => {\n                            return {\n                              ...item,\n                              // eslint-disable-next-line @typescript-eslint/camelcase\n                              __docsearch_parent:\n                                item.type !== 'lvl1' &&\n                                hits.find(\n                                  (siblingItem) =>\n                                    siblingItem.type === 'lvl1' &&\n                                    siblingItem['hierarchy.lvl1'] ===\n                                      item['hierarchy.lvl1']\n                                ),\n                            };\n                          })\n                        )\n                        .flat();\n                    },\n                  };\n                }\n              );\n            });\n        },\n      }),\n    [\n      indexName,\n      typesenseSearchParameters,\n      searchClient,\n      onClose,\n      recentSearches,\n      favoriteSearches,\n      saveRecentSearch,\n      initialQuery,\n      placeholder,\n      navigator,\n      transformItems,\n      disableUserPersonalization,\n    ]\n  );\n\n  const { getEnvironmentProps, getRootProps, refresh } = autocomplete;\n\n  useTouchEvents({\n    getEnvironmentProps,\n    panelElement: dropdownRef.current,\n    formElement: formElementRef.current,\n    inputElement: inputRef.current,\n  });\n  useTrapFocus({ container: containerRef.current });\n\n  React.useEffect(() => {\n    document.body.classList.add('DocSearch--active');\n\n    return () => {\n      document.body.classList.remove('DocSearch--active');\n\n      // IE11 doesn't support `scrollTo` so we check that the method exists\n      // first.\n      window.scrollTo?.(0, initialScrollY);\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const isMobileMediaQuery = window.matchMedia('(max-width: 750px)');\n\n    if (isMobileMediaQuery.matches) {\n      snippetLength.current = 5;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (dropdownRef.current) {\n      dropdownRef.current.scrollTop = 0;\n    }\n  }, [state.query]);\n\n  // We don't focus the input when there's an initial query (i.e. Selection\n  // Search) because users rather want to see the results directly, without the\n  // keyboard appearing.\n  // We therefore need to refresh the autocomplete instance to load all the\n  // results, which is usually triggered on focus.\n  React.useEffect(() => {\n    if (initialQuery.length > 0) {\n      refresh();\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }\n  }, [initialQuery, refresh]);\n\n  // We rely on a CSS property to set the modal height to the full viewport height\n  // because all mobile browsers don't compute their height the same way.\n  // See https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n  React.useEffect(() => {\n    function setFullViewportHeight() {\n      if (modalRef.current) {\n        const vh = window.innerHeight * 0.01;\n        modalRef.current.style.setProperty('--docsearch-vh', `${vh}px`);\n      }\n    }\n\n    setFullViewportHeight();\n\n    window.addEventListener('resize', setFullViewportHeight);\n\n    return () => {\n      window.removeEventListener('resize', setFullViewportHeight);\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      {...getRootProps({\n        'aria-expanded': true,\n      })}\n      className={[\n        'DocSearch',\n        'DocSearch-Container',\n        state.status === 'stalled' && 'DocSearch-Container--Stalled',\n        state.status === 'error' && 'DocSearch-Container--Errored',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onMouseDown={(event) => {\n        if (event.target === event.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className=\"DocSearch-Modal\" ref={modalRef}>\n        <header className=\"DocSearch-SearchBar\" ref={formElementRef}>\n          <SearchBox\n            {...autocomplete}\n            state={state}\n            autoFocus={initialQuery.length === 0}\n            onClose={onClose}\n            inputRef={inputRef}\n            isFromSelection={\n              Boolean(initialQuery) &&\n              initialQuery === initialQueryFromSelection\n            }\n          />\n        </header>\n\n        <div className=\"DocSearch-Dropdown\" ref={dropdownRef}>\n          <ScreenState\n            {...autocomplete}\n            indexName={indexName}\n            state={state}\n            hitComponent={hitComponent}\n            resultsFooterComponent={resultsFooterComponent}\n            disableUserPersonalization={disableUserPersonalization}\n            recentSearches={recentSearches}\n            favoriteSearches={favoriteSearches}\n            onItemClick={(item) => {\n              saveRecentSearch(item);\n              onClose();\n            }}\n            inputRef={inputRef}\n          />\n        </div>\n\n        <footer className=\"DocSearch-Footer\">\n          <Footer />\n        </footer>\n      </div>\n    </div>\n  );\n}\n","import { AutocompleteApi } from '@algolia/autocomplete-core';\nimport React from 'react';\n\ninterface UseTouchEventsProps {\n  getEnvironmentProps: AutocompleteApi<any>['getEnvironmentProps'];\n  panelElement: HTMLDivElement | null;\n  formElement: HTMLDivElement | null;\n  inputElement: HTMLInputElement | null;\n}\n\nexport function useTouchEvents({\n  getEnvironmentProps,\n  panelElement,\n  formElement,\n  inputElement,\n}: UseTouchEventsProps) {\n  React.useEffect(() => {\n    if (!(panelElement && formElement && inputElement)) {\n      return undefined;\n    }\n\n    const { onTouchStart, onTouchMove } = getEnvironmentProps({\n      panelElement,\n      formElement,\n      inputElement,\n    });\n\n    window.addEventListener('touchstart', onTouchStart);\n    window.addEventListener('touchmove', onTouchMove);\n\n    return () => {\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n    };\n  }, [getEnvironmentProps, panelElement, formElement, inputElement]);\n}\n","import React from 'react';\n\ninterface UseTrapFocusProps {\n  container: HTMLElement | null;\n}\n\nexport function useTrapFocus({ container }: UseTrapFocusProps) {\n  React.useEffect(() => {\n    if (!container) {\n      return undefined;\n    }\n\n    const focusableElements = container.querySelectorAll<HTMLElement>(\n      'a[href]:not([disabled]), button:not([disabled]), input:not([disabled])'\n    );\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    function trapFocus(event: KeyboardEvent) {\n      if (event.key !== 'Tab') {\n        return;\n      }\n\n      if (event.shiftKey) {\n        if (document.activeElement === firstElement) {\n          event.preventDefault();\n          lastElement.focus();\n        }\n      } else if (document.activeElement === lastElement) {\n        event.preventDefault();\n        firstElement.focus();\n      }\n    }\n\n    container.addEventListener('keydown', trapFocus);\n\n    return () => {\n      container.removeEventListener('keydown', trapFocus);\n    };\n  }, [container]);\n}\n","import React from 'react';\n\nexport interface UseDocSearchKeyboardEventsProps {\n  isOpen: boolean;\n  onOpen(): void;\n  onClose(): void;\n  onInput?(event: KeyboardEvent): void;\n  searchButtonRef?: React.RefObject<HTMLButtonElement>;\n}\n\nfunction isEditingContent(event: KeyboardEvent): boolean {\n  const element = event.target as HTMLElement;\n  const tagName = element.tagName;\n\n  return (\n    element.isContentEditable ||\n    tagName === 'INPUT' ||\n    tagName === 'SELECT' ||\n    tagName === 'TEXTAREA'\n  );\n}\n\nexport function useDocSearchKeyboardEvents({\n  isOpen,\n  onOpen,\n  onClose,\n  onInput,\n  searchButtonRef,\n}: UseDocSearchKeyboardEventsProps) {\n  React.useEffect(() => {\n    function onKeyDown(event: KeyboardEvent) {\n      function open() {\n        // We check that no other DocSearch modal is showing before opening\n        // another one.\n        if (!document.body.classList.contains('DocSearch--active')) {\n          onOpen();\n        }\n      }\n      if (\n        (event.keyCode === 27 && isOpen) ||\n        // The `Cmd+K` shortcut both opens and closes the modal.\n        (event.key === 'k' && (event.metaKey || event.ctrlKey)) ||\n        // The `/` shortcut opens but doesn't close the modal because it's\n        // a character.\n        (!isEditingContent(event) && event.key === '/' && !isOpen)\n      ) {\n        event.preventDefault();\n\n        if (isOpen) {\n          onClose();\n        } else if (!document.body.classList.contains('DocSearch--active')) {\n          open();\n        }\n      }\n\n      if (\n        searchButtonRef &&\n        searchButtonRef.current === document.activeElement &&\n        onInput\n      ) {\n        if (/[a-zA-Z0-9]/.test(String.fromCharCode(event.keyCode))) {\n          onInput(event);\n        }\n      }\n    }\n\n    window.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isOpen, onOpen, onClose, onInput, searchButtonRef]);\n}\n","import {\n  AutocompleteState,\n  AutocompleteOptions,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\nimport { createPortal } from 'react-dom';\nimport { SearchClient } from 'typesense';\n\nimport { DocSearchButton } from './DocSearchButton';\nimport { DocSearchModal } from './DocSearchModal';\nimport {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { useDocSearchKeyboardEvents } from './useDocSearchKeyboardEvents';\n\nexport interface DocSearchProps {\n  typesenseCollectionName: string;\n  typesenseServerConfig: object;\n  typesenseSearchParameters: object;\n  placeholder?: string;\n  transformItems?(items: DocSearchHit[]): DocSearchHit[];\n  hitComponent?(props: {\n    hit: InternalDocSearchHit | StoredDocSearchHit;\n    children: React.ReactNode;\n  }): JSX.Element;\n  resultsFooterComponent?(props: {\n    state: AutocompleteState<InternalDocSearchHit>;\n  }): JSX.Element | null;\n  transformSearchClient?(searchClient: SearchClient): SearchClient;\n  disableUserPersonalization?: boolean;\n  initialQuery?: string;\n  navigator?: AutocompleteOptions<InternalDocSearchHit>['navigator'];\n}\n\nexport function DocSearch(props: DocSearchProps) {\n  const searchButtonRef = React.useRef<HTMLButtonElement>(null);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [initialQuery, setInitialQuery] = React.useState<string | undefined>(\n    undefined\n  );\n\n  const onOpen = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const onClose = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const onInput = React.useCallback(\n    (event: KeyboardEvent) => {\n      setIsOpen(true);\n      setInitialQuery(event.key);\n    },\n    [setIsOpen, setInitialQuery]\n  );\n\n  useDocSearchKeyboardEvents({\n    isOpen,\n    onOpen,\n    onClose,\n    onInput,\n    searchButtonRef,\n  });\n\n  return (\n    <>\n      <DocSearchButton onClick={onOpen} ref={searchButtonRef} />\n\n      {isOpen &&\n        createPortal(\n          <DocSearchModal\n            {...props}\n            initialScrollY={window.scrollY}\n            initialQuery={initialQuery}\n            onClose={onClose}\n          />,\n          document.body\n        )}\n    </>\n  );\n}\n","export const version = '3.0.0-alpha.39';\n"],"names":["ControlKeyIcon","React","width","height","className","d","strokeWidth","stroke","fill","strokeLinecap","SearchIcon","viewBox","fillRule","strokeLinejoin","DocSearchButton","forwardRef","ref","translations","props","buttonText","buttonAriaLabel","key","useMemo","navigator","test","platform","type","autocompleteId","getItemsCount","state","collections","length","reduce","sum","collection","items","invariant","condition","message","process","env","NODE_ENV","Error","concat","warnCache","current","checkOptions","options","sanitizedMessage","trim","console","warn","debug","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","obj","value","defineProperty","configurable","writable","createStore","reducer","onStoreStateChange","initialState","getState","dispatch","action","payload","prevState","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","flatten","values","a","b","getNextActiveItemId","moveAmount","baseIndex","itemCount","defaultActiveItemId","numericIndex","noop","_typeof","Symbol","iterator","constructor","prototype","getNormalizedSources","getSources","params","seenSourceIds","Promise","resolve","then","sources","Array","isArray","JSON","stringify","all","maybeSource","Boolean","map","sourceId","includes","normalizedSource","getItemInputValue","_ref","query","getItemUrl","onSelect","_ref2","setIsOpen","onActive","getActiveItem","collectionIndex","acc","collectionsCount","index","nextValue","activeItemId","getCollectionFromActiveItemId","item","isOffsetFound","counter","previousItemsOffset","currentCollection","getRelativeActiveItemId","itemInputValue","itemUrl","isOrContainsNode","parent","child","contains","_toConsumableArray","arr","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","o","minLen","n","toString","call","slice","name","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","isDescription","execute","preResolve","itemsOrDescription","description","requests","queries","transformResponse","searchClient","container","find","_container$items","request","maybeDescription","responses","postResolve","matches","response","results","transform","rawResults","result","_hits","hits","hit","__autocomplete_indexName","__autocomplete_queryID","queryID","facetHits","_facetHits","facetHit","label","count","_highlightResult","highlighted","mapToAlgoliaResponse","every","undefined","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","lastStalledId","onInput","event","_ref$nextState","nextState","refresh","store","setters","environment","clearTimeout","_nextState$isOpen","setCollections","setQuery","setActiveItemId","setStatus","openOnFocus","setTimeout","stallThreshold","getItems","_nextState$isOpen2","isPanelOpen","shouldPanelOpen","isOpen","highlightedItem","finally","getPropGetters","getEnvironmentProps","providedProps","inputElement","formElement","panelElement","onTouchStart","some","contextNode","document","activeElement","onTouchMove","blur","getRootProps","rest","role","aria-expanded","aria-haspopup","aria-owns","id","aria-labelledby","getFormProps","noValidate","onSubmit","_providedProps$inputE","preventDefault","onReset","_providedProps$inputE2","focus","getLabelProps","htmlFor","getInputProps","onFocus","completion","isTouchDevice","_ref2$maxLength","maxLength","activeItem","aria-autocomplete","aria-activedescendant","aria-controls","autoComplete","autoCorrect","autoCapitalize","enterKeyHint","spellCheck","autoFocus","placeholder","onChange","currentTarget","onKeyDown","triggerScrollIntoView","nodeItem","getElementById","scrollIntoViewIfNeeded","scrollIntoView","triggerOnActive","nextActiveItemId","metaKey","ctrlKey","navigateNewTab","shiftKey","navigateNewWindow","altKey","navigate","_onKeyDown","onBlur","onClick","getPanelProps","onMouseDown","onMouseLeave","getListProps","getItemProps","__autocomplete_id","aria-selected","onMouseMove","_item","_source","getCompletion","_getActiveItem","stateReducer","status","context","hasOwnProperty","_nextState","createAutocomplete","subscribers","pluginSubscribers","_props$id","window","plugins","onStateChange","_props$onStateChange","x","_x$onStateChange","_props$onSubmit","_x$onSubmit","_props$onReset","_x$onReset","plugin","nested","_x$onSelect","_x$onActive","location","assign","_ref3","windowReference","open","_ref4","getDefaultProps","rawValue","baseItemId","setContext","getAutocompleteSetters","propGetters","Event","_plugin$subscribe","subscribe","fn","TypesenseLogo","href","rel","xmlns","Footer","CommandIcon","children","Hit","url","LoadingIcon","strokeOpacity","cx","cy","r","attributeName","to","dur","repeatCount","RecentIcon","ResetIcon","SelectIcon","SourceIcon","LvlIcon","ContentIcon","AnchorIcon","StarIcon","ErrorIcon","NoResultsIcon","ErrorScreen","NoResultsScreen","searchSuggestions","search","toLowerCase","inputRef","indexName","Snippet","attribute","tagName","createElement","dangerouslySetInnerHTML","__html","_hit$_highlightResult","Results","title","Result","objectID","join","renderIcon","renderAction","onItemClick","hitComponent","useState","isDeleting","setIsDeleting","isFavoriting","setIsFavoriting","useRef","__docsearch_parent","onTransitionEnd","content","runDeleteTransition","cb","runFavoriteTransition","groupBy","predicate","identity","regexHighlightTags","regexHasHighlightTags","RegExp","removeHighlightTags","replace","ResultsScreen","_collection$items","resultsFooterComponent","StartScreen","hasCollections","disableUserPersonalization","stopPropagation","favoriteSearches","add","recentSearches","remove","ScreenState","memo","_prevProps","nextProps","SearchBox","useEffect","isFromSelection","select","hidden","onClose","createStorage","localStorage","setItem","removeItem","error","isLocalStorageSupported","getItem","parse","createStoredSearches","limit","storage","_snippetResult","isQueryAlreadySaved","findIndex","splice","unshift","getAll","useSearchClient","typesenseServerConfig","transformSearchClient","typesense","SearchClient","client","multiSearch","perform","searches","typesenseSearchResponseAdapter","TypesenseSearchResponseAdapter","highlightPreTag","highlightPostTag","geoLocationField","adapt","DocSearchModal","typesenseCollectionName","typesenseSearchParameters","transformItems","initialScrollY","initialQuery","initialQueryFromProp","setState","containerRef","modalRef","formElementRef","dropdownRef","snippetLength","initialQueryFromSelection","getSelection","saveRecentSearch","useCallback","autocomplete","q","query_by","include_fields","highlight_full_fields","group_by","group_limit","catch","nbHits","siblingItem","flat","addEventListener","removeEventListener","useTouchEvents","focusableElements","querySelectorAll","firstElement","lastElement","trapFocus","useTrapFocus","body","classList","scrollTo","matchMedia","scrollTop","setFullViewportHeight","vh","innerHeight","style","setProperty","useDocSearchKeyboardEvents","onOpen","searchButtonRef","keyCode","element","isContentEditable","isEditingContent","String","fromCharCode","setInitialQuery","createPortal","scrollY"],"mappings":"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"}